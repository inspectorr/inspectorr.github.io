{"version":3,"sources":["images/logo.png","images/logo-combined.png","images/exit.png","components/Waiter/index.js","SETTINGS/NETWORK_PATHS.js","actions/core/auth.js","actions/core/RequestError.js","components/Auth/index.js","SETTINGS/CRITICALITY.js","components/Map/Marker/index.js","SETTINGS/MAP_COLORS.js","components/Map/index.js","components/Interface/Frame/index.js","components/Interface/BranchList/SearchBox.js","components/Interface/BranchList/index.js","components/Interface/index.js","actions/core/requestData.js","actions/core/changeRecord.js","actions/convertData.js","actions/getData.js","components/App.js","actions/filterData.js","index.js"],"names":["module","exports","__webpack_require__","p","Waiter","react_default","a","createElement","Container","fluid","className","Row","Col","PulseLoader_default","color","size","NETWORK_PATHS","URL","core_auth","_x","auth_ref","apply","this","arguments","_callee","user","res","regenerator_default","wrap","_context","prev","next","console","log","fetch","method","headers","Content-Type","body","JSON","stringify","sent","abrupt","stop","RequestError","Object","classCallCheck","status","statusText","Auth","state","authFailed","waiting","setState","auth","props","onAuthSuccess","onError","sendAuthRequest","_this2","Image_default","height","src","require","esm","onSubmit","onFormSubmit","field","type","Button","variant","React","Component","CRITICALITY","1","name","colorMuted","2","3","4","default","Marker","applicationsCriticalities","points","forEach","point","applications","application","push","criticality","N","length","Math","min","side","backgroundColor","keys","includes","String","Container_default","style","width","marginTop","marginLeft","onClick","chooseIDs","map","Number","id","lat","lng","MAP_COLORS","elementType","stylers","featureType","Map","clusters","mapOptions","center","defaultProps","zoom","onMapChange","_this","data","createClusters","handleApiLoaded","maps","internals","onMarkerClick","zoomNeeded","panTo","LatLng","panBy","prevProps","cluster","key","lib_default","bootstrapURLKeys","language","region","defaultCenter","defaultZoom","onChange","options","disableDefaultUI","styles","tilt","restriction","latLngBounds","north","south","west","east","strictBounds","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","_ref","Supercluster","_ref2","wx","wy","numPoints","concat","Frame","Col_default","paddingTop","paddingBottom","paddingRight","paddingLeft","closeFrame","title","recordId","SearchBox","index_min_default","placeholder","onSearchClick","onSearch","onEnter","createFilterTitles","filterTitles","info","selected","BranchList","headerHeight","itemHeight","remainInfoHeight","blurerHeight","stopIndex","startIndex","changeFilters","filter","item","filterData","toggleFilterSelect","index","slice","setDefaultData","hardcodeBlurBottomCorner","canvas","refs","bottomBlurer","ctx","getContext","linGrad","createLinearGradient","addColorStop","fillStyle","fillRect","filterTitleElements","i","BranchList_FilterTitle","remainCount","alt","exit","BranchList_SearchBox","searchData","es","rowHeight","rowCount","rowRenderer","BranchList_BranchItem","address","openFrame","onRowsRendered","_ref3","ref","hidden","LIST_WIDTH","bottom","BranchList_RemainInfo","count","RemainInfo","FilterTitle","onMouseDown","e","preventDefault","onDoubleClick","BranchItem","filters","filterItems","BranchList_FilterItem","maxHeight","react_lines_ellipsis_lib_default","text","maxLine","ellipsis","trimRight","basedOn","FilterItem","UserInterface","frameOpen","list","BranchList_BranchList","assign","Row_default","Interface_Frame","requestData","_x2","requestData_ref","path","btoa","email","password","changeRecord","_x3","_x4","changeRecord_ref","value","values","branchesPath","geocoder","window","google","Geocoder","convertData","asyncToGenerator","mark","_callee2","branches","requests","_context2","branch","nodeCode","coords","_coords$split$map","split","_coords$split$map2","slicedToArray","Promise","resolve","reject","geocode","results","_lat","_lng","geometry","location","location_type","error","all","branchId","axis","LIMIT","getData","_getData","offset","dataPortion","json","applicationsPath","App","authRequired","dataIsDefault","filteredData","listFilteredData","choosedIDs","search","setData","undefined","ids","setDefault","toLowerCase","_loop","app","Auth_Auth","waiter","Map_Map","content","Interface_UserInterface","App_Err","Err","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.1f14e8ae.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo-combined.4f7ebe9c.png\";","module.exports = __webpack_public_path__ + \"static/media/exit.dd457aba.png\";","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport PulseLoader from 'react-spinners/PulseLoader';\r\nimport './style.css';\r\n\r\nexport default () => {\r\n  return (\r\n    <Container fluid className=\"waiter h-100 w-100 p-0 m-0 text-center\">\r\n      <Row className=\"h-100 w-100 p-0 m-0 align-items-center\">\r\n        <Col><PulseLoader color=\"gray\" size={10}/></Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","export default {\r\n  proxy: 'https://murmuring-dusk-65097.herokuapp.com/',\r\n  homepage: 'https://megapolis.bpium.ru',\r\n  frame: 'https://megapolis.bpium.ru',\r\n  authPath: '/auth/login',\r\n  apiPath: '/api/v1',\r\n  branchesPath: '/catalogs/12/records',\r\n  applicationsPath: '/boards/1/widgets/new/values?timezoneOffset=180&value[type]=recordsCount&value[value]=&valueFn=&axis[type]=field&axis[value]=3&split[type]=field&split[value]=10&recordsFilter[filters][0][fieldId]=5&recordsFilter[filters][0][value][0]=1&recordsFilter[filters][0][value][1]=2&recordsFilter[filters][0][value][2]=3&recordsFilter[filters][0][value][3]=4&recordsFilter[filters][0][value][4]=5&recordsFilter[filters][0][value][5]=6&order=value',\r\n}","import NETWORK_PATHS from '../../SETTINGS/NETWORK_PATHS';\r\nconst {proxy, homepage, authPath} = NETWORK_PATHS;\r\n\r\nconst URL = proxy + homepage + authPath;\r\n\r\nexport default async function(user) {\r\n  console.log('auth POST request to ' + URL + ' started...');\r\n\r\n  let res = await fetch(URL, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  });\r\n\r\n  console.log('auth POST response from ' + URL, res);\r\n\r\n  return res;\r\n}\r\n","export default class RequestError {\r\n  constructor(res) {\r\n    this.status = res.status;\r\n    this.statusText = res.statusText;\r\n  }\r\n}","import React from 'react';\r\nimport { Form, Text } from 'informed';\r\nimport { Container, Row, Col, Button } from 'react-bootstrap';\r\nimport PulseLoader from 'react-spinners/PulseLoader';\r\nimport './style.css';\r\n\r\nimport auth from '../../actions/core/auth.js';\r\nimport Image from \"react-bootstrap/Image\";\r\nimport RequestError from \"../../actions/core/RequestError\";\r\n\r\nexport default class Auth extends React.Component {\r\n  state = {\r\n    authFailed: false,\r\n    waiting: false,\r\n  };\r\n\r\n  async sendAuthRequest(user) {\r\n    this.setState({ waiting: true });\r\n    let res = await auth(user);\r\n    this.setState({ waiting: false });\r\n\r\n    // console.log(res);\r\n\r\n    if (res.status === 200) {\r\n      this.setState({ authFailed: false });\r\n      this.props.onAuthSuccess(user);\r\n    } else if (res.status === 401) {\r\n      this.setState({ authFailed: true });\r\n    } else {\r\n      // вывести глобальную ошибку и выйти\r\n      this.props.onError(new RequestError(res));\r\n    }\r\n\r\n  }\r\n\r\n  onFormSubmit(user) {\r\n    if (this.state.waiting) return;\r\n    this.sendAuthRequest(user);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid className=\"Auth h-100 w-100 p-0 m-0\">\r\n        <Image height={20} className=\"logo mt-2 ml-2\" src={require(\"../../images/logo.png\")}/>\r\n        <Row className=\"flex-column h-100 w-100 p-0 m-0 align-items-center justify-content-center\">\r\n        <Form\r\n          onSubmit={user => this.onFormSubmit(user)}\r\n        >\r\n          <Col className=\"px-0\">\r\n            <label>\r\n              <Col className=\"px-0 mb-1\">Логин</Col>\r\n              <Col className=\"email px-0\"><Text field=\"email\"/></Col>\r\n            </label>\r\n          </Col>\r\n          <Col className=\"px-0\">\r\n            <label>\r\n              <Col className=\"px-0 mb-1\">Пароль</Col>\r\n              <Col className=\"password px-0\"><Text field=\"password\" type=\"password\"/></Col>\r\n            </label>\r\n          </Col>\r\n          <Col className=\"warning px-0\">\r\n            {this.state.authFailed ? 'Неверный логин или пароль' : ''}\r\n          </Col>\r\n          <Col className=\"px-0\">\r\n            <Button variant=\"success\" type=\"submit\">\r\n              {this.state.waiting ? <PulseLoader size={7} color={'rgba(255,255,255,0.7)'}/> : 'Войти'}\r\n            </Button>\r\n          </Col>\r\n        </Form>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","// параметры критичностей\r\n\r\nexport default {\r\n  \"1\": {\r\n    name: \"Высокая\",\r\n    color: 'rgba(183,33,45,0.8)',\r\n    colorMuted: 'rgba(240, 201, 202, 0.8)',\r\n  },\r\n  \"2\": {\r\n    name: \"Средняя\",\r\n    color: 'rgba(230,132,15,0.8)',\r\n    colorMuted: 'rgba(255, 226, 190, 0.8)',\r\n  },\r\n  \"3\": {\r\n    name: \"Низкая\",\r\n    color: 'rgba(81,165,43,0.8)',\r\n    colorMuted: 'rgba(208, 251, 191, 0.8)',\r\n  },\r\n  \"4\": {\r\n    name: \"Плановая\",\r\n    color: 'rgba(51,173,225,0.8)',\r\n    colorMuted: 'rgba(213, 245, 255, 0.8)',\r\n  },\r\n  \"default\": {\r\n    name: \"В порядке\",\r\n    color: 'rgba(115,115,115,0.7)',\r\n    colorMuted: 'rgba(215,215,215,0.7)',\r\n  },\r\n};\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport './style.css';\r\nimport CRITICALITY from '../../../SETTINGS/CRITICALITY.js';\r\n\r\nexport default (props) => {\r\n  const applicationsCriticalities = [];\r\n  props.points.forEach(point => {\r\n    point.applications.forEach(application => {\r\n      applicationsCriticalities.push(application.criticality);\r\n    });\r\n  });\r\n\r\n  // количество заявок\r\n  const N = applicationsCriticalities.length;\r\n\r\n  const criticality = N ? Math.min(...applicationsCriticalities) : null;\r\n\r\n  let side = 20 + N*2;\r\n  if (side > 100) side = 100;\r\n\r\n  const backgroundColor =\r\n    criticality !== null && Object.keys(CRITICALITY).includes(String(criticality)) ?\r\n      CRITICALITY[criticality].color\r\n      :\r\n      CRITICALITY.default.color;\r\n\r\n  const onClick = () => {\r\n    props.chooseIDs(props.points.map(point => Number(point.id)));\r\n    props.onClick(props.lat, props.lng);\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      className=\"cluster px-0 justify-content-center align-items-center\"\r\n      style={{\r\n        height: side,\r\n        width: side,\r\n        marginTop: -side/2,\r\n        marginLeft: -side/2,\r\n        backgroundColor,\r\n      }}\r\n      onClick={onClick}\r\n      // onClick={() => props.onClick(props.lat, props.lng, props.points.length > 1)}\r\n    >\r\n      <span className=\"title\">{N}</span>\r\n    </Container>\r\n  );\r\n}\r\n","// только #XXXXXX формат\r\n// спецификация: https://developers.google.com/maps/documentation/javascript/style-reference\r\n\r\nexport default [\r\n  {\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#f5f5f5\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"elementType\": \"labels.icon\",\r\n    \"stylers\": [\r\n\r\n    ]\r\n  },\r\n  {\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#616161\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"elementType\": \"labels.text.stroke\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#f5f5f5\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"administrative.land_parcel\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#bdbdbd\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"poi\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#eeeeee\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"poi\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#757575\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"poi.park\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#DDF1DC\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"poi.park\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#9e9e9e\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"road\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#ffffff\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"road.arterial\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#757575\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"road.highway\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#dadada\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"road.highway\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#616161\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"road.local\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#9e9e9e\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"transit.line\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#e5e5e5\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"transit.station\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#eeeeee\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"water\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#cfe4ff\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"water\",\r\n    \"elementType\": \"labels.text.fill\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#999999\"\r\n      }\r\n    ]\r\n  }\r\n]","import React from 'react'\r\nimport GoogleMapReact from 'google-map-react';\r\nimport Supercluster from 'points-cluster';\r\nimport Marker from './Marker';\r\nimport Container from 'react-bootstrap/Container';\r\nimport './style.css';\r\nimport styles from '../../SETTINGS/MAP_COLORS.js';\r\n\r\nexport default class Map extends React.Component {\r\n  static defaultProps = {\r\n    center: {\r\n      lat: 61.25,\r\n      lng: 73.38\r\n    },\r\n    zoom: 4\r\n  };\r\n\r\n  state = {\r\n    clusters: [],\r\n  };\r\n\r\n  mapOptions = {\r\n    center: Map.defaultProps.center,\r\n    zoom: Map.defaultProps.zoom,\r\n  };\r\n\r\n  static createClusters(mapOptions, data) {\r\n    const clusters = Supercluster(data);\r\n    return clusters(mapOptions).map(({ wx, wy, numPoints, points }) => ({\r\n      lat: wy,\r\n      lng: wx,\r\n      numPoints,\r\n      id: `${numPoints}_${points[0].id}`,\r\n      points,\r\n    }));\r\n  }\r\n\r\n  onMapChange = (mapOptions) => {\r\n    this.mapOptions = mapOptions;\r\n    let data = this.props.data ? this.props.data : [];\r\n    const clusters = Map.createClusters(this.mapOptions, data);\r\n    this.setState({ clusters });\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // console.log(prevProps.data, this.props.data);\r\n    if (prevProps.data !== this.props.data) this.onMapChange(this.mapOptions);\r\n  }\r\n\r\n  handleApiLoaded = (map, maps) => {\r\n    this.internals = {\r\n      map, maps\r\n    };\r\n  };\r\n\r\n  onMarkerClick = (lat, lng, zoomNeeded) => {\r\n    // const newZoom = this.mapOptions.zoom+1;\r\n    // if (zoomNeeded) this.internals.map.setZoom(newZoom);\r\n    this.internals.map.panTo(new this.internals.maps.LatLng(lat, lng));\r\n    this.internals.map.panBy(175, 0);\r\n  };\r\n\r\n\r\n  render() {\r\n    const clusters = this.state.clusters.map(cluster => {\r\n      return (\r\n        <Marker\r\n          key={cluster.id}\r\n          lat={cluster.lat}\r\n          lng={cluster.lng}\r\n          points={cluster.points}\r\n          onClick={this.onMarkerClick}\r\n          chooseIDs={this.props.chooseIDs}\r\n        />\r\n      );\r\n    });\r\n\r\n    return (\r\n      <Container fluid className=\"map h-100 w-100 px-0\">\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{\r\n            language: 'ru',\r\n            region: 'ru',\r\n          }}\r\n          defaultCenter={Map.defaultProps.center}\r\n          defaultZoom={Map.defaultProps.zoom}\r\n          onChange={this.onMapChange}\r\n          options={() => ({\r\n              disableDefaultUI: true,\r\n              styles,\r\n              tilt: 0,\r\n              restriction: {\r\n                latLngBounds: {north: 85, south: -85, west: -180, east: 180},\r\n                strictBounds: true\r\n              },\r\n          })}\r\n          yesIWantToUseGoogleMapApiInternals\r\n          onGoogleApiLoaded={({ map, maps }) => this.handleApiLoaded(map, maps)}\r\n        >\r\n          {clusters}\r\n        </GoogleMapReact>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport './style.css';\r\nimport NETWORK_PATHS from \"../../../SETTINGS/NETWORK_PATHS\";\r\n\r\nconst FRAME_PX = 70;\r\nconst FRAME_PY = 30;\r\n\r\nclass Frame extends React.Component {\r\n  render() {\r\n    return (\r\n      <Col\r\n        className=\"Frame m-0\"\r\n        style={{\r\n          paddingTop: FRAME_PY,\r\n          paddingBottom: FRAME_PY,\r\n          paddingRight: FRAME_PX,\r\n          paddingLeft: FRAME_PX\r\n        }}>\r\n        <Container fluid className=\"p-0 m-0 h-100 w-100\">\r\n          <div className={'iframe-container'}>\r\n            <div onClick={this.props.closeFrame} className={'close-button'}>✕</div>\r\n            <iframe\r\n              width='100%'\r\n              height='100%'\r\n              title={\"bpium-frame\"}\r\n              src={`${NETWORK_PATHS.frame}/?action=record-open&catalog=12&record=${this.props.recordId}&screen=full`}\r\n            />\r\n          </div>\r\n        </Container>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Frame;\r\n","import React, {Component} from 'react';\r\nimport SearchField from \"react-search-field\";\r\n\r\nclass SearchBox extends Component {\r\n  lastValue;\r\n\r\n  render() {\r\n    return (\r\n      <SearchField\r\n        placeholder={\"Поиск...\"}\r\n        onSearchClick={this.props.onSearch}\r\n        onEnter={this.props.onSearch}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBox;","import React from 'react';\r\nimport {Container, Row, Col} from 'react-bootstrap';\r\nimport CRITICALITY from '../../../SETTINGS/CRITICALITY.js';\r\nimport './style.css';\r\nimport {AutoSizer, List} from \"react-virtualized\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\nconst LIST_WIDTH = 350;\r\n\r\nconst createFilterTitles = () => {\r\n  const filterTitles = [];\r\n  for (let key in CRITICALITY) {\r\n    filterTitles.push({key, info: CRITICALITY[key], selected: true});\r\n  }\r\n  return filterTitles;\r\n};\r\n\r\nexport default class BranchList extends React.Component {\r\n  headerHeight = 180;\r\n  itemHeight = 50;\r\n  remainInfoHeight = 25;\r\n  blurerHeight = 12;\r\n\r\n  state = {\r\n    filterTitles: createFilterTitles(),\r\n    stopIndex: null,\r\n    startIndex: null,\r\n  };\r\n\r\n  changeFilters = () => {\r\n    const filter = {criticality: []};\r\n    this.state.filterTitles.forEach((item) => {\r\n      if (item.selected) filter.criticality.push(item.key);\r\n    });\r\n    this.props.filterData(filter);\r\n  };\r\n\r\n  toggleFilterSelect = (index) => {\r\n    const filterTitles = this.state.filterTitles.slice();\r\n    filterTitles[index].selected = !filterTitles[index].selected;\r\n    this.setState({filterTitles});\r\n    this.changeFilters();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.hardcodeBlurBottomCorner();\r\n  }\r\n\r\n  hardcodeBlurBottomCorner() {\r\n    const canvas = this.refs.bottomBlurer;\r\n    const ctx = canvas.getContext('2d');\r\n    const linGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n    linGrad.addColorStop(0, 'rgba(255,255,255,0)');\r\n    linGrad.addColorStop(1, 'rgba(255,255,255,0.8)');\r\n    ctx.fillStyle = linGrad;\r\n    ctx.fillRect(0, 0, LIST_WIDTH, canvas.height);\r\n  }\r\n\r\n  setDefaultData = () => {\r\n    this.setState({filterTitles: createFilterTitles()});\r\n    this.props.setDefaultData();\r\n  };\r\n\r\n  render() {\r\n    const filterTitleElements = this.state.filterTitles.map((item, i) => {\r\n      return (\r\n        <FilterTitle\r\n          key={item.info.name}\r\n          title={item.info.name}\r\n          color={item.info.color}\r\n          colorMuted={item.info.colorMuted}\r\n          selected={item.selected}\r\n          index={i}\r\n          toggleFilterSelect={this.toggleFilterSelect}\r\n        />\r\n      );\r\n    });\r\n\r\n    const remainCount = this.props.data.length - this.state.stopIndex - 1;\r\n\r\n\r\n    return (\r\n      <Container className=\"List h-100 px-0 mx-0\" style={{width: LIST_WIDTH}}>\r\n        <Container className=\"list-header\" style={{height: this.headerHeight}}>\r\n          <Row className=\"px-3 pt-2 pb-2\" style={{height: 40}}>\r\n            <Col className=\"d-flex flex-grow-1 p-0 logo-image align-items-center\">\r\n             <img height={22} src={require(\"../../../images/logo-combined.png\")} alt=\"BPIUM\"/>\r\n            </Col>\r\n            <Col className=\"exit p-0 m-0 flex-grow-0\" onClick={this.props.exit}>\r\n              <img height={20} src={require('../../../images/exit.png')}/>\r\n            </Col>\r\n          </Row>\r\n          <Col className=\"d-flex flex-wrap px-0 mx-0 pb-0 pt-1 align-content-center\">\r\n            <SearchBox\r\n              onSearch={this.props.searchData}\r\n            />\r\n          </Col>\r\n          <Col className=\"titles d-flex flex-wrap px-0 pt-1 align-content-center\">{filterTitleElements}</Col>\r\n          <Col className=\"px-0\">\r\n            <span className=\"to-all-branches\" onClick={this.setDefaultData}>\r\n              Ко всем филиалам\r\n            </span>\r\n          </Col>\r\n        </Container>\r\n        <AutoSizer>\r\n          {({ height, width }) => (\r\n            <List\r\n              rowHeight={this.itemHeight}\r\n              rowCount={this.props.data.length}\r\n              rowRenderer={({ index, key, style}) => (\r\n                  <div key={key} style={style}>\r\n                    <BranchItem\r\n                      id={this.props.data[index].id}\r\n                      // name={this.props.data[index].title}\r\n                      name={this.props.data[index].address}\r\n                      applications={this.props.data[index].applications}\r\n                      openFrame={this.props.openFrame}\r\n                      height={this.itemHeight}\r\n                    />\r\n                  </div>\r\n              )}\r\n              onRowsRendered={({startIndex, stopIndex}) => this.setState({startIndex, stopIndex})}\r\n              height={height-this.headerHeight-(remainCount > 0 ? this.remainInfoHeight : 0)}\r\n              width={width}\r\n            />\r\n          )}\r\n        </AutoSizer>\r\n        <canvas\r\n          className={'blur-bottom-corner'}\r\n          ref={'bottomBlurer'}\r\n          hidden={remainCount<=0}\r\n          height={this.blurerHeight}\r\n          width={LIST_WIDTH-5}\r\n          style={{bottom: this.remainInfoHeight-1}}\r\n        >\r\n\r\n        </canvas>\r\n        <RemainInfo count={remainCount} height={this.remainInfoHeight}/>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst RemainInfo = (props) => {\r\n  return props.count > 0 ? (<Col className=\"remain-info w-100 px-3 m-0\" style={{height: props.height}}>\r\n    {`и еще ${props.count} объектов...`}\r\n  </Col>) : null;\r\n};\r\n\r\nconst FilterTitle = (props) => {\r\n  return (\r\n    <Col\r\n      onMouseDown={(e) => e.preventDefault()}\r\n      onDoubleClick={(e) => e.preventDefault()}\r\n      onClick={() => {\r\n        props.toggleFilterSelect(props.index);\r\n      }}\r\n      className=\"d-flex flex-wrap flex-grow-0 px-0 text-center\"\r\n    >\r\n      <div style={{backgroundColor: props.selected ? props.colorMuted : null, color: props.color}} className=\"filter-title\">{props.title}</div>\r\n    </Col>\r\n  );\r\n};\r\n\r\nconst BranchItem = (props) => {\r\n  const filters = {};\r\n  props.applications.forEach((a) => {\r\n    filters[a.criticality] = filters[a.criticality] ? filters[a.criticality]++ : 1;\r\n  });\r\n\r\n  const filterItems = [];\r\n  for (let key in filters) {\r\n    filterItems.push(<FilterItem key={key} count={filters[key]} colorMuted={CRITICALITY[key].colorMuted} color={CRITICALITY[key].color}/>);\r\n  }\r\n\r\n  return (\r\n    <Container className=\"p-0 mx-0\">\r\n      <Row\r\n        className=\"list-item px-3 m-0 align-items-center\"\r\n        style={{height: props.height}}\r\n        onClick={() => props.openFrame(props.id)}\r\n      >\r\n        <Col\r\n          title={props.name}\r\n          className=\"flex-grow-1 name px-0 mx-0\"\r\n          style={{maxHeight: props.height}}\r\n        >\r\n          <LinesEllipsis\r\n            text={props.name}\r\n            maxLine='2'\r\n            ellipsis='...'\r\n            trimRight\r\n            basedOn='letters'\r\n          />\r\n        </Col>\r\n        {filterItems}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst FilterItem = (props) => {\r\n  return (\r\n    <Col className=\"flex-grow-0 filter-item px-0 text-center\" style={{backgroundColor: props.colorMuted, color: props.color}}>{props.count}</Col>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport './style.css';\r\n\r\nimport Frame from './Frame';\r\nimport BranchList from './BranchList';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nexport default class UserInterface extends React.Component {\r\n  state = {\r\n    frameOpen: false,\r\n    recordId: null,\r\n  };\r\n\r\n  openFrame = (recordId) => {\r\n    this.setState({frameOpen: true, recordId});\r\n  };\r\n\r\n  closeFrame = () => {\r\n    this.setState({frameOpen: false, recordId: null});\r\n  };\r\n\r\n  render() {\r\n    const list = <BranchList key=\"list\" {...this.props} data={this.props.data} setDefaultData={this.props.setDefaultData} openFrame={this.openFrame}/>;\r\n\r\n    const content = this.state.frameOpen ?\r\n      (<Container fluid className=\"Interface h-100 w-100 p-0 m-0\">\r\n        <Row className=\"h-100 w-100 p-0 m-0\">\r\n          <Frame key=\"frame\" closeFrame={this.closeFrame} recordId={this.state.recordId}/>\r\n          {list}\r\n        </Row>\r\n      </Container>)\r\n      :\r\n      (<div className=\"Interface frame-closed p-0 m-0 h-100\">{list}</div>);\r\n\r\n    return content;\r\n  }\r\n}\r\n","import NETWORK_PATHS from '../../SETTINGS/NETWORK_PATHS';\r\nconst {proxy, homepage, apiPath} = NETWORK_PATHS;\r\nconst URL = proxy + homepage + apiPath;\r\n\r\nexport default async function(path, user) {\r\n  let headers = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n\r\n  // для работы без куки (демо-версия)\r\n  if (user) headers[\"Authorization\"] = \"Basic \" + btoa(`${user.email}:${user.password}`);\r\n\r\n  console.log('GET request to ' + URL+path + ' started...');\r\n\r\n  let res = await fetch(URL + path, {\r\n    method: \"GET\",\r\n    headers,\r\n  });\r\n\r\n  console.log('GET response from ' + URL+path, res);\r\n\r\n  return res;\r\n}\r\n","import NETWORK_PATHS from '../../SETTINGS/NETWORK_PATHS';\r\nconst {proxy, homepage, apiPath} = NETWORK_PATHS;\r\nconst URL = proxy + homepage + apiPath;\r\n\r\nexport default async function (path, field, value, user) {\r\n  let headers = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n\r\n  // для работы без куки (демо-версия)\r\n  if (user) headers[\"Authorization\"] = \"Basic \" + btoa(`${user.email}:${user.password}`);\r\n\r\n  const body = {\r\n    values: {},\r\n  };\r\n\r\n  console.log('PATCH request to ' + URL+path + ' started...');\r\n\r\n  body.values[field] = value;\r\n\r\n  let res = await fetch(URL + path, {\r\n    method: \"PATCH\",\r\n    headers,\r\n    body: JSON.stringify(body),\r\n  });\r\n\r\n  console.log('PATCH response from ' + URL+path, res);\r\n\r\n  return res;\r\n}\r\n","import changeRecord from './core/changeRecord';\r\nimport NETWORK_PATHS from '../SETTINGS/NETWORK_PATHS';\r\nimport CRITICALITY from \"../SETTINGS/CRITICALITY\";\r\n\r\nconst {branchesPath} = NETWORK_PATHS;\r\n\r\nconst COORDS_FIELD = '20';\r\n\r\nconst NORTH_POLE_LAT = 84.85;\r\nconst NORTH_POLE_LNG = 90;\r\n\r\nconst maps = window.google.maps;\r\nconst geocoder = new maps.Geocoder();\r\n\r\nconst convertData = async (data, user) => {\r\n  console.log(data);\r\n  const branches = {};\r\n  const requests = [];\r\n  data.branches.forEach((branch) => {\r\n    const id = branch.id;\r\n    const title = branch.title;\r\n    const nodeCode = branch.values[30];\r\n    let address = branch.values[6];\r\n    const coords = branch.values[20];\r\n    const applications = [];\r\n\r\n    if (coords) { // уже геокодили точку\r\n      const [lat, lng] = coords.split(',').map(a => +a);\r\n      branches[id] = {title, address, lat, lng, applications, nodeCode};\r\n      return;\r\n    }\r\n\r\n    requests.push(new Promise((resolve, reject) => { // еще нет, геокодим и записываем координаты\r\n      geocoder.geocode({'address': address, 'region': 'ru'}, async (results, status) => {\r\n        if (status === 'OK') {\r\n          const lat = results[0].geometry.location.lat();\r\n          const lng = results[0].geometry.location.lng();\r\n          const type = results[0].geometry.location_type;\r\n          if (type === 'ROOFTOP' || type === 'RANGE_INTERPOLATED') {\r\n            // успешный геокодинг - ставим полученные координаты и записываем в поле\r\n            branches[id] = {title, address, lat, lng, applications, nodeCode};\r\n            const res = await changeRecord(`${branchesPath}/${id}`, COORDS_FIELD, `${lat},${lng}`, user);\r\n            console.log(address, ' coords writing: ', res.status);\r\n          } else {\r\n            // не успешный - ставим координаты северного полюса (не записываем в поле)\r\n            branches[id] = {title, address, lat: NORTH_POLE_LAT, lng: NORTH_POLE_LNG, applications, nodeCode, error: true};\r\n            console.log('Incorrect address ' + address + ' skipped, id ', id);\r\n          }\r\n        } else {\r\n          // ошибка - тоже на северный полюс его!\r\n          console.log('Error: ', address, status);\r\n          if (address === '') address = 'ошибка: нет адреса';\r\n          branches[id] = {title, address, lat: NORTH_POLE_LAT, lng: NORTH_POLE_LNG, applications, nodeCode, error: true};\r\n        }\r\n        resolve();\r\n      });\r\n    }));\r\n  });\r\n\r\n  await Promise.all(requests);\r\n\r\n  // если заявка неправильно заполнена - она игнорируется\r\n  data.applications.forEach(item => {\r\n    const branchId = item.axis.recordId;\r\n\r\n    const applications = item.values ? item.values\r\n      .map(item => {\r\n        const criticality = item.split;\r\n        if (Object.keys(CRITICALITY).includes(criticality)) return {criticality: Number(criticality)};\r\n        else return null;\r\n      })\r\n      .filter(item => item !== null) : [];\r\n\r\n    if (branches[branchId]) branches[branchId].applications = applications;\r\n  });\r\n\r\n  const points = [];\r\n  for (let key in branches) {\r\n    branches[key].id = key;\r\n    points.push(branches[key]);\r\n  }\r\n\r\n  return points;\r\n};\r\n\r\nexport default convertData;\r\n","import requestData from \"./core/requestData\";\r\nimport RequestError from \"./core/RequestError\";\r\nconst LIMIT = 1000;\r\n\r\nexport default async function getData(path, user) {\r\n  let data = [];\r\n  let offset = 0;\r\n  let dataPortion;\r\n\r\n  do {\r\n    const res = await requestData(`${path}${path.includes('?') ? '&' : '?'}limit=${LIMIT}&offset=${offset}`, user);\r\n    if (res.status === 200) { // накапливаем данные\r\n      dataPortion = await res.json();\r\n      data = data.concat(dataPortion);\r\n    } else { // возвращаем ошибку\r\n      return RequestError(res);\r\n    }\r\n    offset+=LIMIT;\r\n  } while (dataPortion.length > 0);\r\n\r\n  return data;\r\n}","import React, { Component } from 'react';\r\nimport Waiter from './Waiter';\r\nimport Auth from './Auth';\r\nimport Map from './Map';\r\nimport Interface from './Interface';\r\n\r\nimport requestData from '../actions/core/requestData.js';\r\nimport convertData from '../actions/convertData.js';\r\nimport filterData from '../actions/filterData.js';\r\n\r\nimport branches from '../testdata/branches.json';\r\nimport applications from '../testdata/applications.json';\r\nimport getData from \"../actions/getData\";\r\nimport RequestError from \"../actions/core/RequestError\";\r\n\r\nimport CRITICALITY from '../SETTINGS/CRITICALITY';\r\n\r\nimport NETWORK_PATHS from '../SETTINGS/NETWORK_PATHS';\r\nconst {branchesPath, applicationsPath} = NETWORK_PATHS;\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    authRequired: true,\r\n    error: false,\r\n    waiting: false,\r\n    dataIsDefault: true,\r\n    data: null,\r\n    filteredData: null,\r\n    listFilteredData: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // (async () => {\r\n    //   let data = await convertData({branches, applications});\r\n    //   console.log(data);\r\n    //   this.setState({ data, filteredData: data, listFilteredData: data });\r\n    // })();\r\n\r\n    // this.checkAccess();\r\n  }\r\n\r\n  async checkAccess() {\r\n    this.setState({ waiting: true });\r\n    const res = await requestData('');\r\n    if (res.status === 404) {\r\n      this.onAuthSuccess();\r\n    } else if (res.status === 401) {\r\n      this.setState({ waiting: false });\r\n    } else {\r\n      this.onError(res);\r\n    }\r\n  }\r\n\r\n  onAuthSuccess(user) {\r\n    // стираем информацию о пользователе (дальнейшая авторизация по куки)\r\n    // переменная user оставлена для совместимости с демо-версией\r\n    if (NETWORK_PATHS.proxy === '') user = null;\r\n    this.getData(user);\r\n  }\r\n\r\n  async getData(user) {\r\n    user = user ? Object.assign({}, user) : null;\r\n    this.setState({ waiting: true });\r\n\r\n    let data = {\r\n      branches: await getData(branchesPath, user),\r\n      applications: await getData(applicationsPath, user),\r\n    };\r\n\r\n    for (let key in data) { // обработка ошибок запросов\r\n      if (data[key] instanceof RequestError) {\r\n        this.onError(data[key]);\r\n        return;\r\n      }\r\n    }\r\n\r\n    data = await convertData(data, user);\r\n\r\n    this.setState({ authRequired: false, data, filteredData: data, listFilteredData: data, waiting: false });\r\n    console.log('data:', this.state.data);\r\n  }\r\n\r\n  filter = {criticality: Object.keys(CRITICALITY)};\r\n  choosedIDs = [];\r\n  search = \"\";\r\n\r\n  filterData = (filter) => {\r\n    this.filter = filter;\r\n    this.setData();\r\n  };\r\n\r\n  searchData = (value=\"\") => {\r\n    this.search = value;\r\n    this.setData();\r\n  };\r\n\r\n  chooseIDs = (ids) => {\r\n    this.choosedIDs = ids;\r\n    this.setData();\r\n  };\r\n\r\n  setDefault = () => {\r\n    this.filter = {criticality: Object.keys(CRITICALITY)};\r\n    this.choosedIDs = [];\r\n    this.search = \"\";\r\n    this.setData(true);\r\n  };\r\n\r\n  setData = (dataIsDefault=false) => {\r\n    const filteredData = filterData(this.state.data, this.filter, this.search);\r\n    const listFilteredData = filteredData.filter(item => this.choosedIDs.length ? this.choosedIDs.includes(Number(item.id)) : true);\r\n\r\n    this.setState({\r\n      filteredData,\r\n      listFilteredData,\r\n      dataIsDefault\r\n    }, () => console.log('filtered data:', this.state.filteredData, listFilteredData));\r\n  };\r\n\r\n  exit = () => {\r\n    this.setState({\r\n      authRequired: true,\r\n      data: null,\r\n      filteredData: null,\r\n    });\r\n  };\r\n\r\n  onError = (res) => {\r\n    this.setState({ error: res });\r\n  };\r\n\r\n  render() {\r\n    const auth = !this.state.waiting && this.state.authRequired ? <Auth key=\"auth\" onAuthSuccess={(user) => this.onAuthSuccess(user)} onError={this.onError}/> : null;\r\n    const waiter = this.state.waiting ? <Waiter key=\"waiter\"/> : null;\r\n    const map = <Map key=\"map\" data={this.state.filteredData} chooseIDs={this.chooseIDs}/>;\r\n    const ui = this.state.filteredData ? <Interface key=\"interface\" data={this.state.listFilteredData} filterData={this.filterData} searchData={this.searchData} setDefaultData={this.setDefault} dataIsDefault={this.state.dataIsDefault} exit={this.exit}/> : null;\r\n\r\n    let content = [waiter, auth, ui, map];\r\n    if (this.state.error) content = <Err res={this.state.error}/>;\r\n\r\n    return content;\r\n  }\r\n}\r\n\r\nconst Err = (props) => <div>{`${props.res.status} ${props.res.statusText}`}</div>;\r\n","export default function filterData(data, filter, value, choosedIDs) {\r\n  // console.log(data, filter)\r\n\r\n  let filteredData = [];\r\n\r\n  data.forEach(item => {\r\n    // поиск по строкам (если не содержит сразу идем дальше, пустая строка подходит всегда)\r\n    if (\r\n      !item.title.toLowerCase().includes(value.toLowerCase())\r\n      &&\r\n      !item.nodeCode.toLowerCase().includes(value.toLowerCase())\r\n    ) return;\r\n\r\n    // // выбор по id (так же)\r\n    // if (choosedIDs.length && !choosedIDs.includes(Number(item.id))) return;\r\n\r\n    let applications = item.applications.slice();\r\n\r\n    // филиалы без заявок\r\n    if (!item.applications.length && filter.criticality && filter.criticality.includes('default')) {\r\n      filteredData.push(Object.assign({}, item));\r\n      return;\r\n    }\r\n\r\n    // фильтрация\r\n    for (let key in filter) {\r\n      applications = applications.filter(app => {\r\n        return filter[key].includes(''+app[key]);\r\n      });\r\n    }\r\n    // console.log(item, applications);\r\n    if (applications.length) {\r\n      item = Object.assign({}, item);\r\n      item.applications = applications;\r\n      filteredData.push(item);\r\n    }\r\n  });\r\n\r\n  return filteredData;\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}