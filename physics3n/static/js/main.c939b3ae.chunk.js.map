{"version":3,"sources":["components/DevicePanel/Device/parts/Magnet.js","actions/isPointInPolygon.js","components/DevicePanel/Device/parts/Ball.js","actions/isPointInCircle.js","components/DevicePanel/Device/parts/Disk.js","components/DevicePanel/Device/index.js","components/Controller/index.js","components/Protocol/index.js","components/DevicePanel/MassInput/index.js","components/DevicePanel/index.js","actions/getDataRow.js","components/Header/index.js","components/App.js","index.js"],"names":["Magnet","width","height","offsetX","L","ballBoundAngle","initPhi","Object","classCallCheck","this","initPoints","x","y","boundAngle","Math","atan","setAngle","phi","ballCollisionRightAngle","getBallCollisionRightAngle","sin","cos","points","map","point","position","center","N","length","j","c","i","isPointInPolygon","atan2","PI","userBlocked","active","ctx","_this$position","save","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","radGrad","createRadialGradient","addColorStop","random","fillStyle","fill","arc","restore","Ball","R","m","v","cx","cy","omega","g","beta","initLeftPoint","sqrt","pow","isPointInCircle","leftPoint","physicsBlocked","t","dt","prevPhi","closePath","Disk","radius","ballRadius","initLeftAngle","initRightAngle","shift","leftAngle","rightAngle","translate","arcTo","font","arcWidth","fillText","formatAngle","textAlign","rad","abs","round","toFixed","Device","_this","props","topShift","threadLength","magnetSide","state","balls","magnet","disk","clientX","clientY","dragging","magnetTurnedOn","actionsToTrack","defaultActionsToTrack","slice","angleTracking","onMouseMove","event","box","refs","canvas","getBoundingClientRect","left","top","setState","onMouseDown","mouseDown","onMouseUp","dragAndDrop","obj","handleMove","onDragStart","setPosition","addEventListener","handleDrop","onDrop","removeEventListener","hoverOn","style","cursor","hoverOff","onMagnetUserBlock","userBlock","onMagnetUserUnblock","userUnblock","onMagnetTurnOn","turnOn","onMagnetTurnOff","turnOff","magnetUnblock","completeActionToTrack","draw","clearRect","update","forEach","ball","requestAnimationFrame","stopBalls","create","getContext","m1","m2","key","index","indexOf","console","log","includes","resetActionsToTrack","_this2","_this$state","_this$state2","checkBallCollision","handleBallCollision","hovering","pointOver","checkMagnetAndBallRightCollision","magnetBlock","checkActionsCompleted","startAngleTracking","addDataRow","stopAngleTracking","react_default","a","createElement","className","ref","zIndex","Col_default","onClick","ball1","ball2","_ref","v1","_ref2","v2","_ref3","Component","toConsumableArray","Array","Controller","stop","onStopPress","turnOnMagnet","onGoPress","turnOffMagnet","Row_default","dist","concat","onPress","type","Protocol","trs","protocol","querySelectorAll","data","blink","tr","container","color","blinking","setInterval","hidden","duration","setTimeout","clearInterval","columns","Header","accessor","Cell","value","es","showPageJump","minRows","showPagination","showPageSizeOptions","noDataText","sortable","resizable","filterable","MassInput","esm","onSubmit","ms","handleMassEnter","initialValues","md","field","Button_default","DevicePanel","massEntered","device","React","createRef","current","content","DevicePanel_Device","DevicePanel_MassInput","minWidth","tetaAlphaRad","error","alphaRad","start","getDataRow","a0","a2","a0deg","a2deg","x0","tetaX0","x2","tetaX2","y2","tetaY2","y1","tetaY1","y1h","tetaY1h","document","e","preventDefault","Info","App","stage","row","push","devicePanel","Container_default","fluid","components_DevicePanel","components_Controller","App_Info","components_Protocol","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.c939b3ae.chunk.js","sourcesContent":["import isPointInPolygon from \"../../../../actions/isPointInPolygon\";\r\n\r\nexport default class Magnet {\r\n  constructor(width, height, offsetX, L, ballBoundAngle, initPhi) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.offsetX = offsetX;\r\n    this.L = L;\r\n\r\n    this.initPoints = [\r\n      {x: -this.width/2, y: -this.height/2},\r\n      {x: this.width/2, y: -this.height/2},\r\n      {x: this.width/2, y: this.height/2},\r\n      {x: -this.width/2, y: this.height/2},\r\n    ];\r\n\r\n    this.boundAngle = Math.atan(this.width/2/this.L);\r\n    this.ballBoundAngle = ballBoundAngle;\r\n    this.setAngle(initPhi-ballBoundAngle-this.boundAngle);\r\n  }\r\n\r\n  setAngle(phi) {\r\n    this.phi = phi;\r\n    this.ballCollisionRightAngle = this.getBallCollisionRightAngle();\r\n\r\n    const x = Math.sin(phi)*this.L + this.offsetX;\r\n    const y = Math.cos(phi)*this.L;\r\n\r\n    const points = this.initPoints.map(point => ({\r\n      x: point.x*Math.cos(phi) + point.y*Math.sin(phi),\r\n      y: -point.x*Math.sin(phi) + point.y*Math.cos(phi),\r\n    }));\r\n\r\n    this.position = {points, center: {x, y}};\r\n  }\r\n\r\n  getBallCollisionRightAngle() {\r\n    return this.phi + this.boundAngle + this.ballBoundAngle;\r\n  }\r\n\r\n  pointOver(x, y) {\r\n    return isPointInPolygon(x, y, this.position);\r\n  }\r\n\r\n  setPosition(x, y) {\r\n    const phi = - Math.atan2(y, x-this.offsetX) + Math.PI/2;\r\n    // console.log(phi);\r\n    this.setAngle(phi);\r\n  }\r\n\r\n  userBlock() {\r\n    this.userBlocked = true;\r\n  }\r\n\r\n  userUnblock() {\r\n    this.userBlocked = false;\r\n  }\r\n\r\n  onDragStart() {\r\n\r\n  }\r\n\r\n  onDrop() {\r\n\r\n  }\r\n\r\n  turnOn() {\r\n    this.active = true;\r\n  }\r\n\r\n  turnOff() {\r\n    this.active = false;\r\n  }\r\n\r\n  draw(ctx) {\r\n    // console.log(this.phi);\r\n    const {points, center} = this.position;\r\n\r\n    ctx.save();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.offsetX, 0);\r\n    ctx.lineTo(center.x, center.y);\r\n    ctx.lineWidth = 10;\r\n    ctx.strokeStyle = 'rgb(99, 99, 99)';\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(points[0].x + center.x, points[0].y + center.y);\r\n    for (let i = 1; i < points.length; i++) {\r\n      ctx.lineTo(points[i].x + center.x, points[i].y + center.y);\r\n    }\r\n\r\n    let radGrad = ctx.createRadialGradient(center.x, center.y, this.height/5, center.x, center.y, this.width*2);\r\n    if (this.active) {\r\n      radGrad.addColorStop(0, 'rgba(239,255,142)');\r\n      radGrad.addColorStop(0.05*Math.random(), 'rgb(239,255,142)');\r\n      radGrad.addColorStop(0.4, 'rgb(200, 35, 51)');\r\n      radGrad.addColorStop(1, 'rgb(200, 35, 51)');\r\n    } else {\r\n      radGrad.addColorStop(0, 'rgb(180,180,180)');\r\n      radGrad.addColorStop(0.5, 'rgb(128,128,128)');\r\n      radGrad.addColorStop(1, 'rgb(99,99,99)');\r\n    }\r\n\r\n    ctx.fillStyle = radGrad;\r\n    ctx.fill();\r\n    ctx.lineWidth = 0.7;\r\n    ctx.strokeStyle = 'rgb(99,99,99)';\r\n    ctx.stroke();\r\n\r\n    if (this.active) {\r\n      let radGrad = ctx.createRadialGradient(center.x, center.y, this.height/5, center.x, center.y, this.width*2);\r\n\r\n      radGrad.addColorStop(0, 'rgba(239,255,142, 0.5)');\r\n      radGrad.addColorStop(0.4+0.05*Math.random(), 'rgba(239,255,142, 0.1)');\r\n      radGrad.addColorStop(0.6, 'rgba(200, 35, 51, 0.05)');\r\n      radGrad.addColorStop(1, 'rgba(200, 35, 51, 0.005)');\r\n\r\n      ctx.fillStyle = radGrad;\r\n      ctx.beginPath();\r\n      ctx.arc(center.x, center.y, this.width+20+20*Math.random(), 0, Math.PI*2);\r\n      ctx.fill();\r\n    }\r\n\r\n    ctx.restore();\r\n  }\r\n}","export default (x, y, position) => {\r\n  const points = position.points.map(point => ({\r\n    x: point.x + position.center.x,\r\n    y: point.y + position.center.y,\r\n  }));\r\n  const N = points.length;\r\n  let j = N - 1;\r\n  let c = 0;\r\n  for (let i = 0; i < N; i++){\r\n    if ((((points[i].y<=y) && (y<points[j].y)) || ((points[j].y<=y) && (y<points[i].y))) &&\r\n      (x > (points[j].x - points[i].x) * (y - points[i].y) / (points[j].y - points[i].y) + points[i].x)) {\r\n      c = !c;\r\n    }\r\n    j = i;\r\n  }\r\n  return c;\r\n}","import isPointInCircle from \"../../../../actions/isPointInCircle\";\r\n\r\nexport default class Ball {\r\n  static g = 2300;\r\n  static dt = 0.02;\r\n  // a = 0;\r\n  v = 0;\r\n  cx = null;\r\n  cy = null;\r\n\r\n  constructor(R, L, initPhi, offsetX, m) {\r\n    this.R = R;\r\n    this.L = L;\r\n    this.omega = Ball.g / L;\r\n    this.phi = initPhi;\r\n    this.offsetX = offsetX;\r\n    this.m = m;\r\n    // this.beta = 0.01/(2*m/1000);\r\n    this.beta = 1/10;\r\n\r\n    this.initLeftPoint = {\r\n      x: -this.R,\r\n      y: 0,\r\n    };\r\n\r\n    this.boundAngle = Math.atan(this.R/this.L);\r\n\r\n    this.setAngle(initPhi);\r\n  }\r\n\r\n  pointOver(x, y) {\r\n    return isPointInCircle(x, y, this.cx, this.cy, this.R);\r\n  }\r\n\r\n  setPosition(x, y) {\r\n    if (this.userBlocked) return;\r\n    const phi = -Math.atan2(y, x-this.offsetX) + Math.PI/2;\r\n    this.setAngle(phi);\r\n  }\r\n\r\n  setAngle(phi) {\r\n    this.phi = phi;\r\n    this.cx = Math.sin(phi)*this.L + this.offsetX;\r\n    this.cy = Math.cos(phi)*this.L;\r\n\r\n    this.leftPoint = {\r\n      x: this.initLeftPoint.x*Math.cos(phi) + this.initLeftPoint.y*Math.sin(phi) + this.cx,\r\n      y: -this.initLeftPoint.x*Math.sin(phi) + this.initLeftPoint.y*Math.cos(phi) + this.cy,\r\n    }\r\n  }\r\n\r\n  onDragStart() {\r\n    this.physicsBlocked = true;\r\n    this.v = 0;\r\n  }\r\n\r\n  onDrop() {\r\n    this.physicsBlocked = false;\r\n  }\r\n\r\n  magnetBlock() {\r\n    this.v = 0;\r\n    this.physicsBlocked = true;\r\n    this.userBlocked = true;\r\n  }\r\n\r\n  magnetUnblock() {\r\n    this.physicsBlocked = false;\r\n    this.userBlocked = false;\r\n  }\r\n\r\n  update(t) {\r\n    if (this.physicsBlocked) return;\r\n\r\n    const {v, phi, beta, omega} = this;\r\n\r\n    // this.a = -omega*Math.sin(this.phi);\r\n    // this.v +=  this.a*Ball.dt;\r\n    // this.phi += this.v*Ball.dt;\r\n\r\n    this.v = v + (-2*beta*v - omega*Math.sin(phi))*Ball.dt;\r\n    this.phi = phi + v*Ball.dt;\r\n\r\n    this.prevPhi = phi;\r\n\r\n    this.setAngle(this.phi);\r\n\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.offsetX, 0);\r\n    ctx.lineTo(this.cx, this.cy);\r\n    ctx.lineWidth = 0.7;\r\n    ctx.strokeStyle = 'white';\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n\r\n    ctx.arc(this.cx, this.cy, this.R, 0, Math.PI*2);\r\n\r\n    const radGrad = ctx.createRadialGradient(this.cx, this.cy, this.R/8, this.cx, this.cy, this.R);\r\n    radGrad.addColorStop(0, 'rgb(240, 240, 240)');\r\n    radGrad.addColorStop(0.7, 'rgb(188,188,188)');\r\n    radGrad.addColorStop(1, 'rgb(151,151,151)');\r\n\r\n    ctx.fillStyle = radGrad;\r\n\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n}","export default (x, y, cx, cy, R) => {\r\n  return Math.sqrt((x-cx)**2+(y-cy)**2) <= R;\r\n}","export default class Disk {\r\n  constructor(cx, radius, ballRadius, initLeftAngle, initRightAngle, shift) {\r\n    this.cx = cx;\r\n    this.radius = radius;\r\n    this.ballRadius = ballRadius;\r\n\r\n    this.shift = shift;\r\n\r\n    this.leftAngle = initLeftAngle;\r\n    this.rightAngle = initRightAngle;\r\n  }\r\n\r\n  update(leftAngle, rightAngle) {\r\n    this.leftAngle = leftAngle;\r\n    this.rightAngle = rightAngle;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.save();\r\n\r\n    ctx.translate(this.cx, 0);\r\n\r\n    const {radius, ballRadius, shift} = this;\r\n\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(-radius-ballRadius, -shift);\r\n    ctx.lineTo(-radius-ballRadius, 0);\r\n    ctx.arcTo(-radius-ballRadius, radius, -ballRadius, radius, radius);\r\n    ctx.lineTo(ballRadius, radius);\r\n    ctx.arcTo(radius + ballRadius, radius, ballRadius+radius, 0, radius);\r\n    ctx.lineTo(radius + ballRadius, -shift);\r\n\r\n    // ctx.closePath();\r\n\r\n    ctx.fillStyle = 'rgb(242, 242, 242)';\r\n    ctx.strokeStyle = 'rgb(170,170,170)';\r\n    ctx.lineWidth = 0.5;\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    const arcWidth = 5;\r\n\r\n    ctx.lineWidth = arcWidth;\r\n    ctx.font = '24px Russo One';\r\n\r\n    // left angle\r\n    // ctx.strokeStyle = '#c41b1b';\r\n    // ctx.fillStyle = '#c41b1b';\r\n    ctx.strokeStyle = 'rgba(220,53,69,0.76)';\r\n    ctx.fillStyle = 'rgba(220,53,69,0.76)';\r\n    ctx.beginPath();\r\n    if (this.leftAngle < 0) ctx.arc(-ballRadius, 0, radius-arcWidth/2, Math.PI/2, Math.PI/2 - this.leftAngle);\r\n    ctx.stroke();\r\n    ctx.fillText(formatAngle(this.leftAngle), -ballRadius*2.7, 0.4*radius);\r\n\r\n    // right angle\r\n    ctx.strokeStyle = 'rgba(0,123,255,0.76)';\r\n    ctx.fillStyle = 'rgba(0,123,255,0.76)';\r\n    ctx.beginPath();\r\n    if (this.rightAngle > 0) ctx.arc(ballRadius, 0, radius-arcWidth/2, Math.PI/2, Math.PI/2 - this.rightAngle, true);\r\n    ctx.stroke();\r\n    ctx.textAlign = 'right';\r\n    ctx.fillText(formatAngle(this.rightAngle), ballRadius*2.7, 0.4*radius);\r\n\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\nfunction formatAngle(rad) {\r\n  return Math.abs(Math.round(rad/Math.PI*180*10)/10).toFixed(1) + '°';\r\n}","import React, {Component} from 'react';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Magnet from \"./parts/Magnet\";\r\nimport Ball from \"./parts/Ball\";\r\nimport Disk from \"./parts/Disk\";\r\nimport './style.css';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nclass Device extends Component {\r\n  width = this.props.width;\r\n  height = this.props.height;\r\n\r\n  topShift = 15;\r\n\r\n  ballRadius = 25;\r\n  threadLength = 355;\r\n  magnetSide = 50;\r\n  ballBoundAngle = Math.atan(this.ballRadius/this.threadLength);\r\n\r\n  static defaultActionsToTrack = [...Array(3)].fill(false);\r\n\r\n  state = {\r\n    balls: null,\r\n    magnet: null,\r\n    disk: null,\r\n    clientX: null,\r\n    clientY: null,\r\n    dragging: false,\r\n    magnetTurnedOn: false,\r\n    actionsToTrack: Device.defaultActionsToTrack.slice(),\r\n    angleTracking: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.create();\r\n    requestAnimationFrame(this.draw);\r\n  }\r\n\r\n  create() {\r\n    this.ctx = this.refs.canvas.getContext('2d');\r\n    this.refs.canvas.addEventListener('mousemove', this.onMouseMove);\r\n    this.refs.canvas.addEventListener('mousedown', this.onMouseDown);\r\n    this.refs.canvas.addEventListener('mouseup', this.onMouseUp);\r\n\r\n    const balls = [\r\n      new Ball(this.ballRadius, this.threadLength, 0, this.width/2-this.ballRadius, this.props.m1),\r\n      new Ball(this.ballRadius, this.threadLength, 0, this.width/2+this.ballRadius, this.props.m2),\r\n    ];\r\n\r\n    const magnet = new Magnet(this.magnetSide, this.magnetSide, this.width/2-this.ballRadius, this.threadLength, this.ballBoundAngle, -45*(Math.PI/180));\r\n\r\n    const disk = new Disk(this.width/2, this.height/6, this.ballRadius, 0, 0, this.topShift);\r\n\r\n    this.setState({ balls, magnet, disk });\r\n  }\r\n\r\n  onMouseMove = (event) => {\r\n    const box = this.refs.canvas.getBoundingClientRect();\r\n    const clientX = event.clientX - box.left;\r\n    const clientY = event.clientY - box.top;\r\n    this.setState({clientX, clientY});\r\n  };\r\n\r\n  onMouseDown = (event) => {\r\n    this.setState({mouseDown: true});\r\n  };\r\n\r\n  onMouseUp = (event) => {\r\n    this.setState({mouseDown: false});\r\n  };\r\n\r\n  dragAndDrop = (obj) => {\r\n    if (this.state.dragging || obj.userBlocked) return;\r\n    this.setState({dragging: true});\r\n    const preventSelect = (e) => {\r\n      e.preventDefault();\r\n    };\r\n    const handleMove = () => {\r\n      obj.onDragStart();\r\n      obj.setPosition(this.state.clientX, this.state.clientY);\r\n    };\r\n    const handleDrop = () => {\r\n      obj.onDrop();\r\n      this.refs.canvas.removeEventListener('mousemove', handleMove);\r\n      this.refs.canvas.removeEventListener('mouseup', handleDrop);\r\n      this.setState({dragging: false});\r\n    };\r\n    this.refs.canvas.addEventListener('mousemove', handleMove);\r\n    this.refs.canvas.addEventListener('mouseup', handleDrop);\r\n  };\r\n\r\n  hoverOn = () => {\r\n    this.refs.canvas.style.cursor = 'pointer';\r\n  };\r\n\r\n  hoverOff = () => {\r\n    this.refs.canvas.style.cursor = 'unset';\r\n  };\r\n\r\n  onMagnetUserBlock = () => {\r\n    this.state.magnet.userBlock();\r\n  };\r\n\r\n  onMagnetUserUnblock = () => {\r\n    this.state.magnet.userUnblock();\r\n  };\r\n\r\n  onMagnetTurnOn = () => {\r\n    this.state.magnet.turnOn();\r\n    this.state.magnet.userBlock();\r\n    this.setState({magnetTurnedOn: true});\r\n  };\r\n\r\n  onMagnetTurnOff = () => {\r\n    this.state.magnet.turnOff();\r\n    this.state.magnet.userUnblock();\r\n    this.state.balls[0].magnetUnblock();\r\n    this.setState({magnetTurnedOn: false});\r\n    //\r\n    this.completeActionToTrack('go');\r\n  };\r\n\r\n  static checkBallCollision(ball1, ball2) {\r\n    return Math.sqrt((ball1.cx-ball2.cx)**2+(ball1.cy-ball2.cy)**2) <= ball1.R + ball2.R;\r\n  }\r\n\r\n  static handleBallCollision(ball1, ball2) {\r\n    const [m1, v1] = [ball1.m, ball1.v];\r\n    const [m2, v2] = [ball2.m, ball2.v];\r\n    // const u1 = ((m1-m2)*v1 + 2*m2*v2)/(m1+m2);\r\n    // const u2 = ((m2-m1)*v2 + 2*m1*v1)/(m1+m2);\r\n\r\n    const k = 0.95;\r\n\r\n    const u1 = (k*m2*(v2-v1) + m1*v1 + m2*v2)/(m1+m2);\r\n    const u2 = (k*m1*(v1-v2) + m1*v1 + m2*v2)/(m1+m2);\r\n\r\n\r\n    [ball1.v, ball2.v] = [u1, u2];\r\n  }\r\n\r\n  static checkMagnetAndBallRightCollision(magnet, ball) {\r\n    return magnet.phi + magnet.boundAngle >= ball.phi - ball.boundAngle*2;\r\n  }\r\n\r\n  completeActionToTrack(key) {\r\n    const actionsToTrack = this.state.actionsToTrack.slice();\r\n\r\n    const actionLiterals = ['magnet', 'go', 'hit'];\r\n    const index = actionLiterals.indexOf(key);\r\n    // console.log(index);\r\n    if (actionsToTrack[index]) return;\r\n\r\n    for (let i = 0; i < index; i++) {\r\n      if (!actionsToTrack[i]) return;\r\n    }\r\n\r\n    actionsToTrack[index] = true;\r\n\r\n    this.setState({actionsToTrack});\r\n    console.log(actionsToTrack);\r\n  }\r\n\r\n  checkActionsCompleted() {\r\n    return !this.state.actionsToTrack.includes(false);\r\n  }\r\n\r\n  resetActionsToTrack() {\r\n    const actionsToTrack = Device.defaultActionsToTrack.slice();\r\n    this.setState({actionsToTrack});\r\n  }\r\n\r\n  startAngleTracking() {\r\n    this.setState({angleTracking: true});\r\n  }\r\n\r\n  stopAngleTracking() {\r\n    this.setState({angleTracking: false});\r\n    this.resetActionsToTrack();\r\n  }\r\n\r\n  update(t) {\r\n    const {clientX, clientY, mouseDown} = this.state;\r\n\r\n    const balls = this.state.balls.slice();\r\n    const { magnet, disk } = this.state;\r\n\r\n    if (Device.checkBallCollision(balls[0], balls[1])) {\r\n      Device.handleBallCollision(balls[0], balls[1]);\r\n      this.completeActionToTrack('hit');\r\n    }\r\n\r\n    let hovering = false;\r\n\r\n    if (magnet.pointOver(clientX, clientY)) {\r\n      hovering = true;\r\n      if (mouseDown) this.dragAndDrop(magnet);\r\n    }\r\n\r\n    if (this.state.magnetTurnedOn && Device.checkMagnetAndBallRightCollision(magnet, balls[0])) {\r\n      balls[0].setAngle(magnet.ballCollisionRightAngle);\r\n      balls[0].magnetBlock();\r\n      this.completeActionToTrack('magnet');\r\n    }\r\n\r\n    if (this.checkActionsCompleted()) this.startAngleTracking();\r\n\r\n    if (this.state.angleTracking && balls[1].phi < balls[1].prevPhi) {\r\n      // alert(balls[1].prevPhi);\r\n      this.props.addDataRow(magnet.ballCollisionRightAngle, balls[1].prevPhi);\r\n      this.stopAngleTracking();\r\n    }\r\n\r\n    balls.forEach(ball => {\r\n      if (ball.pointOver(clientX, clientY)) {\r\n        hovering = true;\r\n        if (mouseDown) this.dragAndDrop(ball);\r\n      }\r\n      ball.update(t);\r\n    });\r\n\r\n    disk.update(magnet.ballCollisionRightAngle, balls[1].phi);\r\n\r\n    if (hovering) this.hoverOn();\r\n    else this.hoverOff();\r\n\r\n    this.setState({balls});\r\n  }\r\n\r\n  draw = (t) => {\r\n    if (!this.state.balls || !this.state.magnet) return;\r\n    this.ctx.save();\r\n\r\n    this.ctx.clearRect(0, 0, this.width, this.height);\r\n    this.ctx.translate(0, this.topShift);\r\n\r\n    this.update(t);\r\n\r\n    this.state.magnet.draw(this.ctx);\r\n    this.state.balls.forEach(ball => ball.draw(this.ctx));\r\n    this.state.disk.draw(this.ctx);\r\n\r\n    this.ctx.restore();\r\n    requestAnimationFrame(this.draw);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={'Device'}>\r\n        <canvas ref={\"canvas\"} width={this.width} height={this.height} style={{zIndex: 1}}>HTML5 support is required to run this app</canvas>\r\n        <Col className={'unselectable m-0 p-0 text-center stop-balls'}><span onClick={this.stopBalls}>Остановить</span></Col>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  stopBalls = () => {\r\n    this.state.balls.forEach(ball => {\r\n      if (ball.physicsBlocked || ball.userBlocked) return;\r\n      ball.setAngle(0);\r\n      ball.v = 0\r\n    });\r\n  }\r\n}\r\n\r\n// const TestPanel = (props) => {\r\n//   return (\r\n//     <Row>\r\n//       {props.balls && props.balls.map((ball, i) => {\r\n//         return (\r\n//           <Col>\r\n//             <Col>{`ball${i} a: ${ball.a.toFixed(2)}`}</Col>\r\n//             <Col>{`ball${i} v: ${ball.v.toFixed(2)}`}</Col>\r\n//             <Col>{`ball${i} phi: ${(ball.phi/Math.PI*180).toFixed(2)}grad`}</Col>\r\n//             {/*<Col>{`ball${i} cx: ${ball.cx.toFixed(2)}`}</Col>*/}\r\n//             {/*<Col>{`ball${i} cy: ${ball.cy.toFixed(2)}`}</Col>*/}\r\n//           </Col>\r\n//         );\r\n//       })}\r\n//     </Row>\r\n//   );\r\n// };\r\n\r\nexport default Device;","import React, {Component} from 'react';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport colors from '../../colors.js';\r\nimport {AwesomeButton} from \"react-awesome-button\";\r\n// import AwesomeButtonStyles from \"react-awesome-button/src/styles/styles.scss\";\r\nimport \"react-awesome-button/dist/styles.css\";\r\nimport './style.css';\r\n\r\nclass Controller extends Component {\r\n  state = {\r\n    stop: false,\r\n  };\r\n\r\n  // componentDidMount() {\r\n  // }\r\n\r\n  onStopPress = () => {\r\n    this.props.turnOnMagnet();\r\n    this.setState({stop: true});\r\n  };\r\n\r\n  onGoPress = () => {\r\n    this.props.turnOffMagnet();\r\n    this.setState({stop: false});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={\"outer d-flex justify-content-start\"}>\r\n      <Row className={\"Controller mx-auto align-items-center\"} style={{\r\n        // backgroundColor: colors.background\r\n      }}>\r\n        <Col className={\"d-flex p-0 m-0 justify-content-between\"}>\r\n          <AwesomeButton\r\n            className={`stop ${this.state.stop ? 'aws-btn--active' : ''}`}\r\n            onPress={this.onStopPress}\r\n            type=\"primary\"\r\n          >\r\n            {\"СТОП\"}\r\n          </AwesomeButton>\r\n          <AwesomeButton\r\n            className={`go ${!this.state.stop ? 'aws-btn--active' : ''}`}\r\n            onPress={this.onGoPress}\r\n            type=\"primary\"\r\n          >\r\n            {\"ПУСК\"}\r\n          </AwesomeButton>\r\n\r\n          {/*<Button onClick={this.props.turnOffMagnet} className={\"go\"}>{\"ПУСК\"}</Button>*/}\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controller;","import React, {Component} from 'react';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ReactTable from \"react-table\";\r\nimport 'react-table/react-table.css';\r\nimport './style.css';\r\n\r\nclass Protocol extends Component {\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const trs = this.refs.protocol.querySelectorAll('.rt-tbody .rt-tr');\r\n    const N = this.props.data.length;\r\n    this.blink(trs[N-1]);\r\n  }\r\n\r\n  blink(tr) {\r\n    const textContainers = tr.querySelectorAll('.rt-td span');\r\n    textContainers.forEach(blinkText);\r\n\r\n    function blinkText(container) {\r\n      container.style.color = 'rgba(0,157,255,0.75)';\r\n      const duration = 1000;\r\n      const one = duration/4;\r\n      let blinking = setInterval(() => {\r\n        container.hidden = !container.hidden;\r\n      }, one);\r\n      setTimeout(() => {\r\n        clearInterval(blinking);\r\n        container.hidden = false;\r\n        container.style.color = 'white';\r\n      }, duration)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        Header: '№',\r\n        accessor: 'N',\r\n        Cell: props => <div><span className={`number bold`}>{props.index+1}</span></div>,\r\n        width: 40,\r\n      },\r\n      {\r\n        Header: <span>α<sub>0</sub></span>,\r\n        accessor: 'a0deg',\r\n        Cell: props => <div><span className={`number`}>{props.value.toFixed(1)}</span></div>,\r\n        width: 90,\r\n      },\r\n      {\r\n        Header: <span>α<sub>2</sub></span>,\r\n        accessor: 'a2deg',\r\n        Cell: props => <div><span className={`number`}>{props.value.toFixed(1)}</span></div>,\r\n        width: 90,\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Col ref={\"protocol\"} className={\"Protocol d-flex px-0 pt-2 justify-content-center\"}>\r\n        <ReactTable\r\n          data={this.props.data}\r\n          columns={columns}\r\n          showPageJump={false}\r\n          minRows={5}\r\n          showPagination={false}\r\n          showPageSizeOptions={false}\r\n          noDataText={'Заполните протокол!'}\r\n          sortable={false}\r\n          resizable={false}\r\n          filterable={false}\r\n        />\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Protocol;","import React, {Component} from 'react';\r\nimport { Form, Text } from 'informed';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport './style.css';\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\n\r\nclass MassInput extends Component {\r\n  render() {\r\n    return (\r\n      <Col className={\"MassInput d-flex justify-content-center\"}>\r\n        <Form\r\n          onSubmit={(ms) => this.props.handleMassEnter(ms.m1, ms.m2)}\r\n          initialValues={{\r\n            m1: 10,\r\n            m2: 30,\r\n          }}\r\n        >\r\n          <Row className={'m-1 p-0'}>\r\n            <Col className={'m-0 p-0'}>Масса первого шарика:</Col>\r\n            <Col md={'auto'} className={'m-0 p-0'}><Text field=\"m1\"/> г</Col>\r\n          </Row>\r\n          <Row className={'m-1 p-0'}>\r\n            <Col className={'m-0 p-0'}>Масса второго шарика:</Col>\r\n            <Col md={'auto'} className={'m-0 p-0'}><Text field=\"m2\"/> г</Col>\r\n          </Row>\r\n          <Row className={'m-1 p-0'}>\r\n            <Button type=\"submit\">НАЧАТЬ</Button>\r\n          </Row>\r\n        </Form>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MassInput;","import React, {Component} from 'react';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Device from \"./Device\";\r\nimport MassInput from \"./MassInput\";\r\nimport colors from \"../../colors.js\";\r\nimport './style.css';\r\n\r\nclass DevicePanel extends Component {\r\n  width = 815;\r\n  height = 460;\r\n\r\n  state = {\r\n    massEntered: true,\r\n    m1: 45,\r\n    m2: 131,\r\n  };\r\n\r\n  handleMassEnter = (m1, m2) => {\r\n    this.setState({massEntered: true, m1, m2});\r\n  };\r\n\r\n  device = React.createRef();\r\n  onMagnetTurnOn = () => this.device.current.onMagnetTurnOn();\r\n  onMagnetTurnOff = () => this.device.current.onMagnetTurnOff();\r\n\r\n  render() {\r\n    const content = this.state.massEntered ?\r\n      <Device\r\n        addDataRow={this.props.addDataRow}\r\n        ref={this.device}\r\n        m1={+this.state.m1}\r\n        m2={+this.state.m2}\r\n        width={this.width}\r\n        height={this.height}\r\n      /> : <MassInput handleMassEnter={this.handleMassEnter}/>;\r\n\r\n    return (\r\n      <Col\r\n        md={'auto'}\r\n        className={\"DevicePanel d-flex align-items-center p-0\"}\r\n        style={{\r\n          // borderColor: colors.background,\r\n          // backgroundColor: colors.background,\r\n          width: this.width,\r\n          minWidth: this.width,\r\n          height: this.height,\r\n        }}\r\n      >\r\n        {content}\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DevicePanel;","const N = 5;\r\nconst Bpn = 0.51;\r\nconst tetaAlphaDeg = 2.5;\r\nconst tetaAlphaRad = tetaAlphaDeg/180*Math.PI;\r\nconst m1 = 45;\r\nconst m2 = 131;\r\nconst L = 23.9;\r\n\r\nfunction random(start, end) {\r\n  return start + (end - start)*Math.random();\r\n}\r\n\r\nfunction error(alphaRad) {\r\n  return alphaRad + tetaAlphaRad*random(-0.5, 0.5);\r\n}\r\n\r\nexport default function (a0, a2) {\r\n  [a0, a2] = [Math.abs(a0), Math.abs(a2)];\r\n\r\n  // имитация неточности измерений\r\n  a2 = error(a2);\r\n\r\n  const a0deg = a0/Math.PI*180;\r\n  const a2deg = a2/Math.PI*180;\r\n\r\n  const x0 = Math.cos(a0);\r\n  const tetaX0 = Math.sin(a0)*tetaAlphaDeg;\r\n  const x2 = Math.cos(a2);\r\n  const tetaX2 = Math.sin(a2)*tetaAlphaDeg;\r\n  const y2 = 1 - (2*m1/(m1+m2))**2 * (1-x0);\r\n  const tetaY2 = (2*m1/(m1+m2))**2 * tetaX0;\r\n  const y1 = 1 - ((m1-m2)/(m1+m2))**2 * (1-x0);\r\n  const tetaY1 = ((m1-m2)/(m1+m2))**2 * tetaX0;\r\n  const y1h = 1 - ((m1-m2)/(2*m1))**2 * (1-x2);\r\n  const tetaY1h = ((m1-m2)/(2*m1))**2 * tetaX2;\r\n\r\n  return {a0deg, a2deg, x0, tetaX0, x2, tetaX2, y2, tetaY2, y1, tetaY1, y1h, tetaY1h};\r\n}\r\n\r\n","import Row from \"react-bootstrap/Row\";\r\nimport React from \"react\";\r\nimport './style.css';\r\nimport colors from \"../../colors\";\r\n\r\nexport default function Header () {\r\n  return (\r\n    <Row\r\n      className={\"Header mb-3 mx-auto d-flex justify-content-center align-items-center flex-nowrap\"}\r\n      style={{\r\n        zIndex: 20,\r\n        // backgroundColor: colors.background,\r\n      }}\r\n    >\r\n      Лабораторная работа №3н: \"УПРУГОЕ СТОЛКНОВЕНИЕ ШАРОВ\"\r\n    </Row>\r\n  );\r\n}","import React, {Component} from 'react';\r\nimport Device from \"./DevicePanel/Device\";\r\nimport Controller from \"./Controller\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport './style.css';\r\nimport hints from '../hints.js';\r\nimport Protocol from \"./Protocol\";\r\nimport DevicePanel from \"./DevicePanel\";\r\nimport getDataRow from \"../actions/getDataRow\";\r\nimport Header from \"./Header\";\r\n\r\ndocument.addEventListener('mousedown', (e) => e.preventDefault());\r\n\r\nconst Info = () => {\r\n  return (\r\n    <Col className={'Info p-0 mt-2'}>\r\n      <Col className={'p-0'}>Константы эксперимента:</Col>\r\n      <Col className={'p-0'}>L = (23.9 ± 0.1) см</Col>\r\n      <Col className={'p-0'}>m<sub>1</sub> = (45 ± 1) г</Col>\r\n      <Col className={'p-0'}>m<sub>2</sub> = (131 ± 1) г</Col>\r\n      <Col className={'p-0'}>θ<sub>α</sub> = 2.5°</Col>\r\n    </Col>\r\n  );\r\n};\r\n\r\nclass App extends Component {\r\n  static N = 5;\r\n\r\n  state = {\r\n    stage: 0,\r\n    data: [],\r\n  };\r\n\r\n  addDataRow = (a0, a2) => {\r\n    const data = this.state.data.slice();\r\n    const row = getDataRow(a0, a2);\r\n    if (data.length === 5) data.shift();\r\n    data.push(row);\r\n    this.setState({data});\r\n  };\r\n\r\n  devicePanel = React.createRef();\r\n  turnOnMagnet = () => this.devicePanel.current.onMagnetTurnOn();\r\n  turnOffMagnet = () => this.devicePanel.current.onMagnetTurnOff();\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid className={\"justify-content-center m-0 p-0\"}>\r\n        <Header/>\r\n        <Row className={\"Main mx-auto d-flex justify-content-between flex-nowrap\"} style={{height: 435}}>\r\n          <DevicePanel ref={this.devicePanel} addDataRow={this.addDataRow}/>\r\n          <Col className={\"right-panel p-0 m-0\"}>\r\n            <Controller turnOnMagnet={this.turnOnMagnet} turnOffMagnet={this.turnOffMagnet}/>\r\n            <Info/>\r\n            <Protocol data={this.state.data}/>\r\n          </Col>\r\n        </Row>\r\n        <Row className={\"bottom-panel d-flex justify-content-center flex-nowrap\"}>\r\n\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}