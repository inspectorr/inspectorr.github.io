{"version":3,"sources":["images/logo.png","components/Controller/index.js","components/Protocol/index.js","components/Header/Info/index.js","components/Header/index.js","actions/formatAngle.js","components/Device/parts/Magnet.js","actions/isPointInPolygon.js","PHYSICS.js","components/Device/parts/Ball.js","actions/random.js","actions/isPointInCircle.js","components/Device/parts/Disk.js","components/Device/index.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Controller","state","stop","onStopPress","_this","props","turnOnMagnet","setState","onGoPress","turnOffMagnet","react_default","a","createElement","className","Row_default","Col_default","dist","concat","this","onPress","type","Component","Protocol","trs","refs","protocol","querySelectorAll","N","data","length","blink","tr","forEach","container","style","color","blinking","setInterval","hidden","duration","setTimeout","clearInterval","columns","Header","accessor","Cell","index","width","value","ref","es","showPageJump","minRows","showPagination","showPageSizeOptions","noDataText","sortable","resizable","filterable","Info","reactjs_popup_es","open","closeOnDocumentClick","onClose","closeInfo","contentStyle","padding","onClick","infoOpen","openInfo","Image_default","height","src","require","Header_Info","React","formatAngle","rad","Math","abs","round","PI","toFixed","Magnet","offsetX","L","ballBoundAngle","initPhi","Object","classCallCheck","initPoints","x","y","boundAngle","atan","setAngle","phi","ballCollisionRightAngle","getBallCollisionRightAngle","sin","cos","points","map","point","position","center","j","c","i","isPointInPolygon","coords","offsetPhi","getPhi","atan2","userBlocked","active","ctx","_this$position","save","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","translate","rotate","font","fillStyle","fillText","restore","radGrad","createRadialGradient","addColorStop","random","fill","arc","PHYSICS","g","threadLength","integrationStep","dampingFactor","tetaAlphaRad","error","start","omega","beta","dt","Ball","R","m","v","cx","cy","sqrt","pow","isPointInCircle","physicsBlocked","setUserAngle","prevPhi","maxLeftPhi","maxRightPhi","wasMovingRight","isMovingRight","wasMovingLeft","isMovingLeft","closePath","Disk","radius","ballRadius","initLeftAngle","initRightAngle","shift","leftAngle","rightAngle","arcTo","arcWidth","textAlign","Device","topShift","magnetSide","balls","magnet","disk","clientX","clientY","dragging","magnetTurnedOn","actionsToTrack","defaultActionsToTrack","slice","angleTracking","onMouseMove","e","box","canvas","getBoundingClientRect","targetTouches","left","top","onMouseDown","startDragCoords","mouseDown","onMouseUp","event","dragAndDrop","obj","onDragStart","handleMove","setPosition","handleDrop","onDrop","document","removeEventListener","addEventListener","hoverOn","cursor","hoverOff","onMagnetTurnOn","turnOn","userBlock","onMagnetTurnOff","turnOff","userUnblock","magnetUnblock","completeActionToTrack","draw","t","clearRect","update","ball","requestAnimationFrame","stopBalls","reset","create","getContext","m1","m2","key","indexOf","includes","resetActionsToTrack","_this2","_this$state","_this$state2","hovering","pointOver","_this$state3","setAngles","checkBallCollision","handleBallCollision","checkMagnetAndBallRightCollision","magnetBlock","checkActionsCompleted","startAngleTracking","addDataRow","stopAngleTracking","handleMouseActions","zIndex","ball1","ball2","_ref","v1","_ref2","v2","_ref3","CONSTANTS","toConsumableArray","Array","preventDefault","App","stage","a0","a2","row","a0deg","a2deg","push","device","createRef","current","Container_default","fluid","Header_Header","components_Device","components_Controller","App_Info","components_Protocol","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.4bfd3281.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1fb32402.png\";","import React, {Component} from 'react';\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport {AwesomeButton} from \"react-awesome-button\";\r\nimport \"react-awesome-button/dist/styles.css\";\r\nimport './style.css';\r\n\r\nclass Controller extends Component {\r\n  state = {\r\n    stop: false,\r\n  };\r\n\r\n  onStopPress = () => {\r\n    this.props.turnOnMagnet();\r\n    this.setState({stop: true});\r\n  };\r\n\r\n  onGoPress = () => {\r\n    this.props.turnOffMagnet();\r\n    this.setState({stop: false});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={\"outer d-flex justify-content-start\"}>\r\n      <Row className={\"Controller mx-auto align-items-center\"}>\r\n        <Col className={\"d-flex p-0 m-0 justify-content-between\"}>\r\n          <AwesomeButton\r\n            className={`stop ${this.state.stop ? 'aws-btn--active' : ''}`}\r\n            onPress={this.onStopPress}\r\n            type=\"primary\"\r\n          >\r\n            {\"СТОП\"}\r\n          </AwesomeButton>\r\n          <AwesomeButton\r\n            className={`go ${!this.state.stop ? 'aws-btn--active' : ''}`}\r\n            onPress={this.onGoPress}\r\n            type=\"primary\"\r\n          >\r\n            {\"ПУСК\"}\r\n          </AwesomeButton>\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controller;","import React, {Component} from 'react';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ReactTable from \"react-table\";\r\nimport 'react-table/react-table.css';\r\nimport './style.css';\r\n\r\nclass Protocol extends Component {\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const trs = this.refs.protocol.querySelectorAll('.rt-tbody .rt-tr');\r\n    const N = this.props.data.length;\r\n    this.blink(trs[N-1]);\r\n  }\r\n\r\n  blink(tr) {\r\n    const textContainers = tr.querySelectorAll('.rt-td span');\r\n    textContainers.forEach(blinkText);\r\n\r\n    function blinkText(container) {\r\n      container.style.color = 'rgba(0,123,255,1)';\r\n      const duration = 1000;\r\n      const one = duration/4;\r\n      let blinking = setInterval(() => {\r\n        container.hidden = !container.hidden;\r\n      }, one);\r\n      setTimeout(() => {\r\n        clearInterval(blinking);\r\n        container.hidden = false;\r\n        container.style.color = 'white';\r\n      }, duration)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        Header: '№',\r\n        accessor: 'N',\r\n        Cell: props => <div><span className={`number bold`}>{props.index+1}</span></div>,\r\n        width: 40,\r\n      },\r\n      {\r\n        Header: <span>α<sub>0</sub></span>,\r\n        accessor: 'a0deg',\r\n        Cell: props => <div><span className={`number`}>{props.value}</span></div>,\r\n        width: 90,\r\n      },\r\n      {\r\n        Header: <span>α<sub>2</sub></span>,\r\n        accessor: 'a2deg',\r\n        Cell: props => <div><span className={`number`}>{props.value}</span></div>,\r\n        width: 90,\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Col ref={\"protocol\"} className={\"Protocol d-flex px-0 pt-2 justify-content-center\"}>\r\n        <ReactTable\r\n          data={this.props.data}\r\n          columns={columns}\r\n          showPageJump={false}\r\n          minRows={5}\r\n          showPagination={false}\r\n          showPageSizeOptions={false}\r\n          noDataText={'Заполните протокол!'}\r\n          sortable={false}\r\n          resizable={false}\r\n          filterable={false}\r\n        />\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Protocol;","import React, {Component} from 'react';\r\nimport Popup from \"reactjs-popup\";\r\nimport './style.css';\r\n\r\nclass Info extends Component {\r\n  render() {\r\n    return (\r\n      <Popup\r\n        open={this.props.open}\r\n        closeOnDocumentClick\r\n        onClose={this.props.closeInfo}\r\n        contentStyle={{\r\n          width: 400,\r\n          padding: 0,\r\n        }}\r\n      >\r\n        <div className=\"hat\">\r\n          О программе\r\n          <span className=\"popup-close\" onClick={this.props.closeInfo}>&times;</span>\r\n        </div>\r\n        <div className=\"popup-text\">\r\n          {\"Сайт разработан\\nВерхотуровым Романом Георгиевичем,\\nкафедра САПР факультета КТИ\\nпод руководством\\nк.ф.-м.н. доцента кафедры физики\\nШейнмана Ильи Львовича.\\n\"}\r\n          <div className='uni'>{\"Санкт-Петербургский Государственный\\nЭлектротехнический Университет\"}</div>\r\n        </div>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Info;","import Row from \"react-bootstrap/Row\";\r\nimport React from \"react\";\r\nimport './style.css';\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Info from \"./Info\";\r\n\r\nexport default class Header extends React.Component {\r\n  state = {\r\n    infoOpen: false,\r\n  };\r\n\r\n  openInfo = () => this.setState({infoOpen: true});\r\n  closeInfo = () => this.setState({infoOpen: false});\r\n\r\n  render() {\r\n    const header = <Row\r\n      className={\"Header mb-3 mx-auto d-flex justify-content-center align-items-center flex-nowrap\"}\r\n    >\r\n      <div className=\"logo p-0 m-0 text-center justify-content-center align-items-center\">\r\n        <Image height={45} src={require('../../images/logo.png')}/>\r\n      </div>\r\n      <div className=\"text p-0 m-0 justify-content-center align-items-center\">\r\n        Лабораторная работа №3н: \"УПРУГОЕ СТОЛКНОВЕНИЕ ШАРОВ\"\r\n      </div>\r\n      <div className={\"info-container\"}>\r\n        <span onClick={this.openInfo} className={\"info-text\"}>О программе...</span>\r\n      </div>\r\n    </Row>;\r\n\r\n    const popup = <Info open={this.state.infoOpen} closeInfo={this.closeInfo}/>;\r\n\r\n    return [header, popup];\r\n  }\r\n}","export default function formatAngle(rad) {\r\n  return Math.abs(Math.round(rad/Math.PI*180*10)/10).toFixed(1) + '°';\r\n}","import isPointInPolygon from \"../../../actions/isPointInPolygon\";\r\nimport formatAngle from \"../../../actions/formatAngle\";\r\n\r\nexport default class Magnet {\r\n  constructor(width, height, offsetX, L, ballBoundAngle, initPhi) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.offsetX = offsetX;\r\n    this.L = L;\r\n\r\n    this.initPoints = [\r\n      {x: -this.width/2, y: -this.height/2},\r\n      {x: this.width/2, y: -this.height/2},\r\n      {x: this.width/2, y: this.height/2},\r\n      {x: -this.width/2, y: this.height/2},\r\n    ];\r\n\r\n    this.boundAngle = Math.atan(this.width/2/this.L);\r\n    this.ballBoundAngle = ballBoundAngle;\r\n    this.setAngle(initPhi-ballBoundAngle-this.boundAngle);\r\n  }\r\n\r\n  setAngle(phi) {\r\n    this.phi = phi;\r\n    this.ballCollisionRightAngle = this.getBallCollisionRightAngle();\r\n\r\n    const x = Math.sin(phi)*this.L + this.offsetX;\r\n    const y = Math.cos(phi)*this.L;\r\n\r\n    const points = this.initPoints.map(point => ({\r\n      x: point.x*Math.cos(phi) + point.y*Math.sin(phi),\r\n      y: -point.x*Math.sin(phi) + point.y*Math.cos(phi),\r\n    }));\r\n\r\n    this.position = {points, center: {x, y}};\r\n  }\r\n\r\n  getBallCollisionRightAngle() {\r\n    return this.phi + this.boundAngle + this.ballBoundAngle;\r\n  }\r\n\r\n  pointOver(x, y) {\r\n    return isPointInPolygon(x, y, this.position);\r\n  }\r\n\r\n  onDragStart(coords) {\r\n    const {x, y} = coords;\r\n    this.offsetPhi = this.getPhi(x, y) - this.phi;\r\n  }\r\n\r\n  onDrop() {\r\n\r\n  }\r\n\r\n  setPosition(x, y) {\r\n    const phi = this.getPhi(x, y);\r\n    this.setAngle(phi-this.offsetPhi);\r\n  }\r\n\r\n  getPhi(x, y) {\r\n    return -Math.atan2(y, x-this.offsetX) + Math.PI/2;\r\n  }\r\n\r\n  userBlock() {\r\n    this.userBlocked = true;\r\n  }\r\n\r\n  userUnblock() {\r\n    this.userBlocked = false;\r\n  }\r\n\r\n  turnOn() {\r\n    this.active = true;\r\n  }\r\n\r\n  turnOff() {\r\n    this.active = false;\r\n  }\r\n\r\n  draw(ctx) {\r\n    const {points, center} = this.position;\r\n\r\n    ctx.save();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.offsetX, 0);\r\n    ctx.lineTo(center.x, center.y);\r\n    ctx.lineWidth = 10;\r\n    ctx.strokeStyle = 'rgb(99, 99, 99)';\r\n    ctx.stroke();\r\n\r\n    ctx.save();\r\n    ctx.translate(this.offsetX, 0);\r\n    ctx.rotate(3*Math.PI/2-this.phi);\r\n    ctx.font = '24px Russo One';\r\n    ctx.fillStyle = 'rgba(220,53,69,0.76)';\r\n    ctx.fillText(formatAngle(this.ballCollisionRightAngle), -150, -15);\r\n    ctx.restore();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(points[0].x + center.x, points[0].y + center.y);\r\n    for (let i = 1; i < points.length; i++) {\r\n      ctx.lineTo(points[i].x + center.x, points[i].y + center.y);\r\n    }\r\n\r\n    let radGrad = ctx.createRadialGradient(center.x, center.y, this.height/5, center.x, center.y, this.width*2);\r\n    if (this.active) {\r\n      radGrad.addColorStop(0, 'rgb(239,255,142)');\r\n      radGrad.addColorStop(0.05*Math.random(), 'rgb(239,255,142)');\r\n      radGrad.addColorStop(0.4, 'rgb(200, 35, 51)');\r\n      radGrad.addColorStop(1, 'rgb(200, 35, 51)');\r\n    } else {\r\n      radGrad.addColorStop(0, 'rgb(180,180,180)');\r\n      radGrad.addColorStop(0.5, 'rgb(128,128,128)');\r\n      radGrad.addColorStop(1, 'rgb(99,99,99)');\r\n    }\r\n\r\n    ctx.fillStyle = radGrad;\r\n    ctx.fill();\r\n    ctx.lineWidth = 0.7;\r\n    ctx.strokeStyle = 'rgb(99,99,99)';\r\n    ctx.stroke();\r\n\r\n    if (this.active) {\r\n      let radGrad = ctx.createRadialGradient(center.x, center.y, this.height/5, center.x, center.y, this.width*2);\r\n\r\n      radGrad.addColorStop(0, 'rgba(239,255,142, 0.5)');\r\n      radGrad.addColorStop(0.4+0.05*Math.random(), 'rgba(239,255,142, 0.1)');\r\n      radGrad.addColorStop(0.6, 'rgba(200, 35, 51, 0.05)');\r\n      radGrad.addColorStop(1, 'rgba(200, 35, 51, 0.005)');\r\n\r\n      ctx.fillStyle = radGrad;\r\n      ctx.beginPath();\r\n      ctx.arc(center.x, center.y, this.width+20+20*Math.random(), 0, Math.PI*2);\r\n      ctx.fill();\r\n    }\r\n\r\n    ctx.restore();\r\n  }\r\n}","export default (x, y, position) => {\r\n  const points = position.points.map(point => ({\r\n    x: point.x + position.center.x,\r\n    y: point.y + position.center.y,\r\n  }));\r\n  const N = points.length;\r\n  let j = N - 1;\r\n  let c = 0;\r\n  for (let i = 0; i < N; i++){\r\n    if ((((points[i].y<=y) && (y<points[j].y)) || ((points[j].y<=y) && (y<points[i].y))) &&\r\n      (x > (points[j].x - points[i].x) * (y - points[i].y) / (points[j].y - points[i].y) + points[i].x)) {\r\n      c = !c;\r\n    }\r\n    j = i;\r\n  }\r\n  return c;\r\n}","export default {\r\n  g: 9.81,\r\n  m1: 45, // массы шариков (г)\r\n  m2: 131, //\r\n  threadLength: 0.239, // длина нити (м)\r\n  tetaAlphaDeg: 2.5, // приборная погрешность (градусы)\r\n  recoveryFactor: 0.85, // коэффициент восстановления\r\n  dampingFactor: 0.25, // коэффициент затухания\r\n  integrationStep: 0.009, // шаг интегрирования уравнения колебаний (регулирует скорость анимации)\r\n}","import isPointInCircle from \"../../../actions/isPointInCircle\";\r\nimport random from \"../../../actions/random\";\r\nimport CONSTANTS from '../../../PHYSICS';\r\nconst {tetaAlphaDeg, g, threadLength, integrationStep, dampingFactor} = CONSTANTS;\r\n\r\nconst tetaAlphaRad = tetaAlphaDeg/180*Math.PI;\r\nfunction error() {\r\n  return tetaAlphaRad*random(-0.5, 0.5);\r\n}\r\n\r\nconst omega = g / threadLength;\r\nconst beta = dampingFactor;\r\nconst dt = integrationStep;\r\n\r\nexport default class Ball {\r\n  v = 0;\r\n  cx = null;\r\n  cy = null;\r\n\r\n  constructor(R, L, initPhi, offsetX, m) {\r\n    this.R = R;\r\n    this.L = L;\r\n    this.phi = initPhi;\r\n    this.offsetX = offsetX;\r\n    this.m = m;\r\n\r\n    this.boundAngle = Math.atan(this.R/this.L);\r\n\r\n    this.setAngle(initPhi);\r\n  }\r\n\r\n  pointOver(x, y) {\r\n    return isPointInCircle(x, y, this.cx, this.cy, this.R);\r\n  }\r\n\r\n  onDragStart(coords) {\r\n    const {x, y} = coords;\r\n    this.offsetPhi = this.getPhi(x, y) - this.phi;\r\n    this.physicsBlocked = true;\r\n    this.v = 0;\r\n  }\r\n\r\n  setPosition(x, y) {\r\n    if (this.userBlocked) return;\r\n    const phi = this.getPhi(x, y);\r\n    this.setUserAngle(phi-this.offsetPhi);\r\n  }\r\n\r\n  getPhi(x, y) {\r\n    return -Math.atan2(y, x-this.offsetX) + Math.PI/2;\r\n  }\r\n\r\n  setAngle(phi) {\r\n    this.phi = phi;\r\n    this.cx = Math.sin(phi)*this.L + this.offsetX;\r\n    this.cy = Math.cos(phi)*this.L;\r\n  }\r\n\r\n  setUserAngle(phi) {\r\n    this.setAngle(phi);\r\n    this.v = 0;\r\n    this.prevPhi = phi;\r\n    this.maxLeftPhi = this.maxRightPhi = this.phi;\r\n  }\r\n\r\n  onDrop() {\r\n    this.physicsBlocked = false;\r\n  }\r\n\r\n  magnetBlock() {\r\n    this.v = 0;\r\n    this.physicsBlocked = true;\r\n    this.userBlocked = true;\r\n  }\r\n\r\n  magnetUnblock() {\r\n    this.physicsBlocked = false;\r\n    this.userBlocked = false;\r\n  }\r\n\r\n  update() {\r\n    if (this.physicsBlocked) return;\r\n\r\n    const {v, phi} = this;\r\n\r\n    // this.a = -omega*Math.sin(this.phi);\r\n    // this.v +=  this.a*Ball.dt;\r\n    // this.phi += this.v*Ball.dt;\r\n\r\n    this.v = v + (-2*beta*v - omega*Math.sin(phi))*dt;\r\n    this.phi = phi + v*dt;\r\n\r\n    this.wasMovingRight = this.isMovingRight;\r\n    this.wasMovingLeft = this.isMovingLeft;\r\n    this.isMovingRight = this.prevPhi < this.phi;\r\n    this.isMovingLeft = this.prevPhi > this.phi;\r\n\r\n    if (this.wasMovingRight && this.isMovingLeft) {\r\n      this.maxRightPhi = this.prevPhi + error();\r\n    } else if (this.wasMovingLeft && this.isMovingRight) {\r\n      this.maxLeftPhi = this.prevPhi + error();\r\n    }\r\n\r\n    this.prevPhi = phi;\r\n\r\n    this.setAngle(this.phi);\r\n\r\n  }\r\n\r\n  reset() {\r\n    this.setAngle(0);\r\n    this.phi = 0;\r\n    this.prevPhi = 0;\r\n    this.v = 0;\r\n    this.maxLeftPhi = 0;\r\n    this.maxRightPhi = 0;\r\n    this.wasMovingRight = false;\r\n    this.isMovingRight = false;\r\n    this.wasMovingLeft = false;\r\n    this.isMovingLeft = false;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.offsetX, 0);\r\n    ctx.lineTo(this.cx, this.cy);\r\n    ctx.lineWidth = 0.7;\r\n    ctx.strokeStyle = 'white';\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n\r\n    ctx.arc(this.cx, this.cy, this.R, 0, Math.PI*2);\r\n\r\n    const radGrad = ctx.createRadialGradient(this.cx, this.cy, this.R/8, this.cx, this.cy, this.R);\r\n    radGrad.addColorStop(0, 'rgb(255,255,255)');\r\n    radGrad.addColorStop(0.66, 'rgb(172,172,172)');\r\n    radGrad.addColorStop(1, 'rgb(103,103,103)');\r\n\r\n    ctx.fillStyle = radGrad;\r\n\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n}","export default function random(start, end) {\r\n  return start + (end - start)*Math.random();\r\n}","export default (x, y, cx, cy, R) => {\r\n  return Math.sqrt((x-cx)**2+(y-cy)**2) <= R;\r\n}","import formatAngle from \"../../../actions/formatAngle\";\r\n\r\nexport default class Disk {\r\n  constructor(cx, radius, ballRadius, initLeftAngle, initRightAngle, shift) {\r\n    this.cx = cx;\r\n    this.radius = radius;\r\n    this.ballRadius = ballRadius;\r\n\r\n    this.shift = shift;\r\n\r\n    this.leftAngle = initLeftAngle;\r\n    this.rightAngle = initRightAngle;\r\n  }\r\n\r\n  setAngles(leftAngle, rightAngle) {\r\n    this.leftAngle = leftAngle;\r\n    this.rightAngle = rightAngle;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.save();\r\n\r\n    ctx.translate(this.cx, 0);\r\n\r\n    const {radius, ballRadius, shift} = this;\r\n\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(-radius-ballRadius, -shift);\r\n    ctx.lineTo(-radius-ballRadius, 0);\r\n    ctx.arcTo(-radius-ballRadius, radius, -ballRadius, radius, radius);\r\n    ctx.lineTo(ballRadius, radius);\r\n    ctx.arcTo(radius + ballRadius, radius, ballRadius+radius, 0, radius);\r\n    ctx.lineTo(radius + ballRadius, -shift);\r\n\r\n    ctx.fillStyle = 'rgb(242, 242, 242)';\r\n    ctx.strokeStyle = 'rgb(170,170,170)';\r\n    ctx.lineWidth = 0.5;\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    const arcWidth = 5;\r\n\r\n    ctx.lineWidth = arcWidth;\r\n    ctx.font = '24px Russo One';\r\n\r\n    // left angle\r\n    ctx.strokeStyle = 'rgba(220,53,69,0.76)';\r\n    ctx.fillStyle = 'rgba(220,53,69,0.76)';\r\n    ctx.beginPath();\r\n    if (this.leftAngle < 0) ctx.arc(-ballRadius, 0, radius-arcWidth/2, Math.PI/2, Math.PI/2 - this.leftAngle);\r\n    ctx.stroke();\r\n    ctx.fillText(formatAngle(this.leftAngle), -ballRadius*2.7, 0.4*radius);\r\n\r\n    // right angle\r\n    ctx.strokeStyle = 'rgba(0,123,255,0.76)';\r\n    ctx.fillStyle = 'rgba(0,123,255,0.76)';\r\n    ctx.beginPath();\r\n    if (this.rightAngle > 0) ctx.arc(ballRadius, 0, radius-arcWidth/2, Math.PI/2, Math.PI/2 - this.rightAngle, true);\r\n    ctx.stroke();\r\n    ctx.textAlign = 'right';\r\n    ctx.fillText(formatAngle(this.rightAngle), ballRadius*2.7, 0.4*radius);\r\n\r\n    ctx.restore();\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport Magnet from \"./parts/Magnet\";\r\nimport Ball from \"./parts/Ball\";\r\nimport Disk from \"./parts/Disk\";\r\nimport './style.css';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport CONSTANTS from '../../PHYSICS';\r\n\r\nclass Device extends Component {\r\n  width = 815;\r\n  height = 460;\r\n\r\n  topShift = 15;\r\n\r\n  ballRadius = 25;\r\n  threadLength = 355;\r\n  magnetSide = 50;\r\n  ballBoundAngle = Math.atan(this.ballRadius/this.threadLength);\r\n\r\n  static defaultActionsToTrack = [...Array(3)].fill(false);\r\n\r\n  state = {\r\n    balls: null,\r\n    magnet: null,\r\n    disk: null,\r\n    clientX: null,\r\n    clientY: null,\r\n    dragging: false,\r\n    magnetTurnedOn: false,\r\n    actionsToTrack: Device.defaultActionsToTrack.slice(),\r\n    angleTracking: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.create();\r\n    requestAnimationFrame(this.draw);\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  create() {\r\n    this.ctx = this.refs.canvas.getContext('2d');\r\n    this.refs.canvas.addEventListener('mousedown', this.onMouseDown);\r\n    this.refs.canvas.addEventListener('touchstart', this.onMouseDown);\r\n    document.addEventListener('mousemove', this.onMouseMove);\r\n    document.addEventListener('touchmove', this.onMouseMove);\r\n    document.addEventListener('mouseup', this.onMouseUp);\r\n    document.addEventListener('touchend', this.onMouseUp);\r\n\r\n    const balls = [\r\n      new Ball(this.ballRadius, this.threadLength, 0, this.width/2-this.ballRadius, this.props.m1),\r\n      new Ball(this.ballRadius, this.threadLength, 0, this.width/2+this.ballRadius, this.props.m2),\r\n    ];\r\n\r\n    balls.forEach(ball => ball.reset());\r\n\r\n    const magnet = new Magnet(this.magnetSide, this.magnetSide, this.width/2-this.ballRadius, this.threadLength, this.ballBoundAngle, -45*(Math.PI/180));\r\n\r\n    const disk = new Disk(this.width/2, this.height/6, this.ballRadius, 0, 0, this.topShift);\r\n\r\n    this.setState({ balls, magnet, disk });\r\n  }\r\n\r\n  onMouseMove = (e) => {\r\n    const box = this.refs.canvas.getBoundingClientRect();\r\n    const clientX = (e.targetTouches ? e.targetTouches[0].clientX : e.clientX) - box.left;\r\n    const clientY = (e.targetTouches ? e.targetTouches[0].clientY : e.clientY) - box.top;\r\n    this.setState({clientX, clientY});\r\n  };\r\n\r\n  onMouseDown = (e) => {\r\n    const box = this.refs.canvas.getBoundingClientRect();\r\n    this.startDragCoords = {\r\n      x: (e.targetTouches ? e.targetTouches[0].clientX : e.clientX) - box.left,\r\n      y: (e.targetTouches ? e.targetTouches[0].clientY : e.clientY) - box.top\r\n    };\r\n    this.setState({mouseDown: true});\r\n  };\r\n\r\n  onMouseUp = (event) => {\r\n    this.setState({mouseDown: false});\r\n  };\r\n\r\n  dragAndDrop = (obj) => {\r\n    if (this.state.dragging || obj.userBlocked) return;\r\n    const box = this.refs.canvas.getBoundingClientRect();\r\n    this.setState({dragging: true});\r\n    obj.onDragStart(this.startDragCoords);\r\n    const handleMove = (e) => {\r\n      const x = e.targetTouches ? e.targetTouches[0].clientX : e.clientX;\r\n      const y = e.targetTouches ? e.targetTouches[0].clientY : e.clientY;\r\n      obj.setPosition(x - box.left, y - box.top);\r\n    };\r\n    const handleDrop = () => {\r\n      obj.onDrop();\r\n      document.removeEventListener('mousemove', handleMove);\r\n      document.removeEventListener('touchmove', handleMove);\r\n      document.removeEventListener('mouseup', handleDrop);\r\n      document.removeEventListener('touchend', handleDrop);\r\n      this.setState({dragging: false});\r\n    };\r\n    document.addEventListener('mousemove', handleMove);\r\n    document.addEventListener('touchmove', handleMove);\r\n    document.addEventListener('mouseup', handleDrop);\r\n    document.addEventListener('touchend', handleDrop);\r\n  };\r\n\r\n  hoverOn = () => {\r\n    this.refs.canvas.style.cursor = 'pointer';\r\n  };\r\n\r\n  hoverOff = () => {\r\n    this.refs.canvas.style.cursor = 'unset';\r\n  };\r\n\r\n  onMagnetTurnOn = () => {\r\n    this.state.magnet.turnOn();\r\n    this.state.magnet.userBlock();\r\n    this.setState({magnetTurnedOn: true});\r\n  };\r\n\r\n  onMagnetTurnOff = () => {\r\n    this.state.magnet.turnOff();\r\n    this.state.magnet.userUnblock();\r\n    this.state.balls[0].magnetUnblock();\r\n    this.setState({magnetTurnedOn: false});\r\n    //\r\n    this.completeActionToTrack('go');\r\n  };\r\n\r\n  completeActionToTrack(key) {\r\n    const actionsToTrack = this.state.actionsToTrack.slice();\r\n\r\n    const actionLiterals = ['magnet', 'go', 'hit'];\r\n    const index = actionLiterals.indexOf(key);\r\n\r\n    if (actionsToTrack[index]) return;\r\n\r\n    for (let i = 0; i < index; i++) {\r\n      if (!actionsToTrack[i]) return;\r\n    }\r\n\r\n    actionsToTrack[index] = true;\r\n\r\n    this.setState({actionsToTrack});\r\n  }\r\n\r\n  checkActionsCompleted() {\r\n    return !this.state.actionsToTrack.includes(false);\r\n  }\r\n\r\n  resetActionsToTrack() {\r\n    const actionsToTrack = Device.defaultActionsToTrack.slice();\r\n    this.setState({actionsToTrack});\r\n  }\r\n\r\n  startAngleTracking() {\r\n    this.setState({angleTracking: true});\r\n  }\r\n\r\n  stopAngleTracking() {\r\n    this.setState({angleTracking: false});\r\n    this.resetActionsToTrack();\r\n  }\r\n\r\n  static checkBallCollision(ball1, ball2) {\r\n    if (ball1.phi > ball2.phi) {\r\n      if (ball1.physicsBlocked) ball2.setUserAngle(ball1.phi);\r\n      else if (ball2.physicsBlocked) ball1.setUserAngle(ball2.phi);\r\n      else ball1.setAngle(ball2.phi);\r\n      return true;\r\n    } else return false;\r\n\r\n    // return Math.sqrt((ball1.cx-ball2.cx)**2+(ball1.cy-l2.cy)**2) <= ball1.R + ball2.R;\r\n  }\r\n\r\n  static handleBallCollision(ball1, ball2) {\r\n    const [m1, v1] = [ball1.m, ball1.v];\r\n    const [m2, v2] = [ball2.m, ball2.v];\r\n\r\n    // const u1 = ((m1-m2)*v1 + 2*m2*v2)/(m1+m2);\r\n    // const u2 = ((m2-m1)*v2 + 2*m1*v1)/(m1+m2);\r\n\r\n    const k = CONSTANTS.recoveryFactor;\r\n    let u1 = (k*m2*(v2-v1) + m1*v1 + m2*v2)/(m1+m2);\r\n    let u2 = (k*m1*(v1-v2) + m1*v1 + m2*v2)/(m1+m2);\r\n\r\n    [ball1.v, ball2.v] = [u1, u2];\r\n  }\r\n\r\n  static checkMagnetAndBallRightCollision(magnet, ball) {\r\n    return magnet.phi + magnet.boundAngle >= ball.phi - ball.boundAngle*2;\r\n  }\r\n\r\n  handleMouseActions() {\r\n    const {clientX, clientY, mouseDown} = this.state;\r\n    const { magnet, balls } = this.state;\r\n\r\n    let hovering = false;\r\n\r\n    if (magnet.pointOver(clientX, clientY)) {\r\n      hovering = true;\r\n      if (mouseDown) this.dragAndDrop(magnet);\r\n    }\r\n\r\n    balls.forEach(ball => {\r\n      if (ball.pointOver(clientX, clientY)) {\r\n        hovering = true;\r\n        if (mouseDown) this.dragAndDrop(ball);\r\n      }\r\n    });\r\n\r\n    if (hovering) this.hoverOn();\r\n    else this.hoverOff();\r\n  }\r\n\r\n  update(t) {\r\n    const { magnet, disk, balls } = this.state;\r\n\r\n    disk.setAngles(balls[0].maxLeftPhi, balls[1].maxRightPhi);\r\n    balls.forEach(ball => ball.update());\r\n\r\n    if (Device.checkBallCollision(balls[0], balls[1])) {\r\n      Device.handleBallCollision(balls[0], balls[1]);\r\n      this.completeActionToTrack('hit');\r\n    }\r\n\r\n    if (this.state.magnetTurnedOn && Device.checkMagnetAndBallRightCollision(magnet, balls[0])) {\r\n      balls[0].setUserAngle(magnet.ballCollisionRightAngle);\r\n      balls[0].magnetBlock();\r\n      this.completeActionToTrack('magnet');\r\n    }\r\n\r\n    if (this.checkActionsCompleted()) this.startAngleTracking();\r\n\r\n    if (this.state.angleTracking && balls[1].isMovingLeft && balls[1].wasMovingRight) {\r\n      this.props.addDataRow(magnet.ballCollisionRightAngle, balls[1].maxRightPhi);\r\n      this.stopAngleTracking();\r\n    }\r\n\r\n    this.handleMouseActions();\r\n  }\r\n\r\n  draw = (t) => {\r\n    if (!this.state.balls || !this.state.magnet) return;\r\n    this.ctx.save();\r\n\r\n    this.ctx.clearRect(0, 0, this.width, this.height);\r\n    this.ctx.translate(0, this.topShift);\r\n\r\n    this.update(t);\r\n\r\n    this.state.magnet.draw(this.ctx);\r\n    this.state.balls.forEach(ball => ball.draw(this.ctx));\r\n    this.state.disk.draw(this.ctx);\r\n\r\n    this.ctx.restore();\r\n    requestAnimationFrame(this.draw);\r\n  };\r\n\r\n  stopBalls = () => {\r\n    const balls = this.state.balls.slice();\r\n    balls.forEach(ball => {\r\n      if (ball.physicsBlocked || ball.userBlocked) return;\r\n      ball.reset();\r\n    });\r\n    this.setState(balls);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={'Device'}>\r\n        <canvas ref={\"canvas\"} width={this.width} height={this.height} style={{zIndex: 1}}>HTML5 support is required to\r\n          run this app\r\n        </canvas>\r\n        <Col className={'unselectable m-0 p-0 text-center stop-balls'}><span onClick={this.stopBalls}>Остановить</span></Col>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Device;","import React, {Component} from 'react';\r\nimport Controller from \"./Controller\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport './style.css';\r\nimport Protocol from \"./Protocol\";\r\nimport Header from \"./Header\";\r\nimport Device from \"./Device\";\r\nimport CONSTANTS from \"../PHYSICS\";\r\nimport formatAngle from \"../actions/formatAngle\";\r\n\r\ndocument.addEventListener('mousedown', (e) => e.preventDefault());\r\n\r\nconst Info = () => {\r\n  return (\r\n    <Col className={'Info p-0 mt-2'}>\r\n      <Col className={'p-0'}>Константы эксперимента:</Col>\r\n      <Col className={'p-0'}>L = (23.9 ± 0.1) см</Col>\r\n      <Col className={'p-0'}>m<sub>1</sub> = (45 ± 1) г</Col>\r\n      <Col className={'p-0'}>m<sub>2</sub> = (131 ± 1) г</Col>\r\n      <Col className={'p-0'}>θ<sub>α</sub> = 2.5°</Col>\r\n    </Col>\r\n  );\r\n};\r\n\r\nclass App extends Component {\r\n  static N = 5;\r\n\r\n  state = {\r\n    stage: 0,\r\n    data: [],\r\n  };\r\n\r\n  addDataRow = (a0, a2) => {\r\n    const data = this.state.data.slice();\r\n    const row = {a0deg: formatAngle(a0), a2deg: formatAngle(a2)};\r\n    if (data.length === 5) data.shift();\r\n    data.push(row);\r\n    this.setState({data});\r\n  };\r\n\r\n  device = React.createRef();\r\n  turnOnMagnet = () => this.device.current.onMagnetTurnOn();\r\n  turnOffMagnet = () => this.device.current.onMagnetTurnOff();\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid className={\"justify-content-center m-0 p-0\"}>\r\n        <Header/>\r\n        <Row className={\"Main mx-auto d-flex justify-content-between flex-nowrap\"}>\r\n          <Device m1={CONSTANTS.m1} m2={CONSTANTS.m2} ref={this.device} addDataRow={this.addDataRow}/>\r\n          <Col className={\"right-panel p-0 m-0\"}>\r\n            <Controller turnOnMagnet={this.turnOnMagnet} turnOffMagnet={this.turnOffMagnet}/>\r\n            <Info/>\r\n            <Protocol data={this.state.data}/>\r\n          </Col>\r\n        </Row>\r\n        <Row className={\"bottom-panel d-flex justify-content-center flex-nowrap\"}>\r\n\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}