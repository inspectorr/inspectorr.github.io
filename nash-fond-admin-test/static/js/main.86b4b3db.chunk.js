(this["webpackJsonpnash-fond-admin"]=this["webpackJsonpnash-fond-admin"]||[]).push([[0],{304:function(e,t,n){e.exports=n(502)},499:function(e,t,n){},500:function(e,t,n){},502:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=n(77),l=n(9),u=n.n(l),s=n(13),p=n(44),m=n(20),f=n(168),d=function(e){return Object(f.a)(Array(e)).map((function(e,t){return t}))},b=function(){return window.localStorage.getItem("token")||window.sessionStorage.getItem("token")},h=function(e,t){t?window.localStorage.setItem("token",e):window.sessionStorage.setItem("token",e)},E=function(){window.localStorage.removeItem("token"),window.sessionStorage.removeItem("token")},v="https://nfond.cyberwhale.tech",y=function(){var e=Object(s.a)(u.a.mark((function e(t,n){var a,r,c,o,i,l,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v+t,r=JSON.stringify(n),(c=new Headers).append("Content-Type","application/json"),(o=b())&&c.append("Authorization",o),i={method:"POST",headers:c,body:r},console.log("POST request",a,i,n),e.prev=8,e.next=11,fetch(a,i);case 11:return l=e.sent,e.next=14,l.json();case 14:return s=e.sent,console.log("POST response",l,s),e.abrupt("return",s);case 19:return e.prev=19,e.t0=e.catch(8),console.error("POST error",e.t0),e.abrupt("return",{success:!1,error:e.t0});case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a,r,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v+t,(a=new Headers).append("Content-Type","application/json"),(r=b())&&a.append("Authorization",r),c={method:"GET",headers:a},console.log("GET request",n,c),e.prev=7,e.next=10,fetch(n,c);case 10:return o=e.sent,e.next=13,o.json();case 13:return i=e.sent,console.log("GET response",o,i),e.abrupt("return",i);case 18:return e.prev=18,e.t0=e.catch(7),console.error("GET error",e.t0),e.abrupt("return",{success:!1,error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();function O(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.password,e.next=3,y("/api/auth/admin",{password:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/auth/checkAuth");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/user/getAllWithInvestments");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/api/user/update/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/user/delete/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/investment/getAll");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/investment/confirmSale/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/product/getAll");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/api/product/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/api/product/update/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return W.apply(this,arguments)}function W(){return(W=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/product/delete/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/api/product/pushGainsAndCompute",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return Y.apply(this,arguments)}function Y(){return(Y=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/api/emailTemplate/getAll");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return q.apply(this,arguments)}function q(){return(q=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/api/emailTemplate/update/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=Object(a.createContext)({loggedIn:!1,onLogin:function(){},onLogout:function(){},onStartUp:function(){}}),Z=d(2),$=Object(m.a)(Z,2),ee=$[0],te=$[1];function ne(e,t){switch(t.type){case ee:return Q({},e,{loggedIn:!0});case te:return Q({},e,{loggedIn:!1});default:return e}}var ae=X,re=n(286),ce=n(85),oe=n(166),ie=n(86),le=n(215),ue=n(217),se=n(214),pe=n(263),me=n(216),fe=n(152),de=n(547),be=n(548),he=n(542),Ee=n(561),ve=n(544),ye=n(151),ge=n(267),Oe=n.n(ge);var we=function(){var e=Object(a.useContext)(ae).onLogin;function t(){return(t=Object(s.a)(u.a.mark((function t(n,a){var r,c,o,i,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.password,t.next=3,O({password:r});case 3:c=t.sent,o=c.success,i=c.token,l=c.error,o?e(i):a.setErrors({error:l});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var n=Object(a.useState)(!1),c=Object(m.a)(n,2),o=c[0],i=c[1];return r.a.createElement(he.a,{style:{height:"100%"}},r.a.createElement(oe.a,{initialValues:{},onSubmit:function(e,n){return t.apply(this,arguments)}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,style:{height:"100%"}},r.a.createElement(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{height:"100%"}},r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{style:{marginBottom:"0.5rem"}},r.a.createElement(ve.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(Oe.a,{style:{margin:"0 0.5rem"}}),r.a.createElement(ie.a,{variant:"h6"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"))),r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(pe.a,{htmlFor:"standard-adornment-password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(le.a,{id:"standard-adornment-password",type:o?"text":"password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.password,name:"password",endAdornment:r.a.createElement(me.a,{position:"end"},r.a.createElement(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return i(!o)}},o?r.a.createElement(de.a,null):r.a.createElement(be.a,null)))})),r.a.createElement(ue.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,style:{marginTop:"1rem"}},"\u0412\u041e\u0419\u0422\u0418")),e.errors.error&&r.a.createElement(Ee.a,null,r.a.createElement(ie.a,{variant:"h6",color:"error"},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"))))})))},je=n(3),xe=n(274),Pe=n(564),Se=n(559),ke=n(558),Ce=n(222),Ie=n(557),De=n(278),Le=n.n(De),Ne=n(279),Te=n.n(Ne),Re=n(514),Ae=n(560),Be=n(235),Ge=n(285),Fe=n.n(Ge),Me=n(283),_e=n.n(Me),Ue=n(281),We=n.n(Ue),He=n(280),ze=n.n(He),Ve=n(282),Ye=n.n(Ve),Je=n(202),qe=n(197),Ke=n(203),Qe=n(172);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=function e(t){var n=this,a=t.listGetter,r=void 0===a?function(){}:a,c=t.creator,o=void 0===c?function(){}:c,i=t.updater,l=void 0===i?function(){}:i,p=t.deleter,m=void 0===p?function(){}:p,f=t.getterById,d=void 0===f?function(){}:f,b=t.resolver,h=void 0===b?function(){}:b;Object(Qe.a)(this,e),this.data=[],this.isLoaded=!1,this.load=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isLoaded){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,n._getList();case 4:return e.abrupt("return",n.isLoaded=!0);case 5:case"end":return e.stop()}}),e)}))),this._getList=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:n.data=e.sent,h(Ze({},n));case 4:case"end":return e.stop()}}),e)}))),this.getById=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return e.next=4,n._getList();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(s.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,a);case 2:return e.next=4,n._getList();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return e.next=4,n._getList();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};$e.default={data:{},isLoaded:!1,load:function(){},_getList:function(){},getById:function(){},create:function(){},update:function(){},delete:function(){}};var et=function(e){function t(e){var n;return Object(Qe.a)(this,t),(n=Object(Je.a)(this,Object(qe.a)(t).call(this,e))).pushGainsAndCompute=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.productId,r=t.newGain,c=t.newDate,e.next=3,H({productId:a,newGain:r,newDate:c});case 3:return e.next=5,n._getList();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(Ke.a)(t,e),t}($e);et.default=Ze({},$e.default,{pushGainsAndCompute:function(){}});var tt=function(e){function t(e){var n;return Object(Qe.a)(this,t),(n=Object(Je.a)(this,Object(qe.a)(t).call(this,e))).confirmSale=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return e.next=4,n._getList();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(Ke.a)(t,e),t}($e);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}tt.default=Ze({},$e.default,{confirmSale:function(){}});var rt={ProductType:{},InvestmentStatus:{},products:$e.default,users:$e.default,investments:$e.default,templates:$e.default},ct=d(3),ot=Object(m.a)(ct,4),it=ot[0],lt=ot[1],ut=ot[2],st=ot[3];function pt(e,t){switch(t.type){case it:return at({},e,{products:t.products});case lt:return at({},e,{users:t.users});case ut:return at({},e,{investments:t.investments});case st:return at({},e,{templates:t.templates});default:return e}}var mt=Object(a.createContext)(rt),ft=n(219),dt=n(276),bt=n.n(dt),ht=n(268),Et=n.n(ht);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e){var t=e.options,n=Object(i.a)(e,["options"]);return r.a.createElement(Et.a,Object.assign({options:yt({showEmptyDataSourceMessage:!1,emptyRowsWhenPaging:!1,minBodyHeight:0,paging:!1,detailPanelType:"single"},t)},n))}function Ot(e){var t=e.options,n=Object(i.a)(e,["options"]);return r.a.createElement(gt,Object.assign({options:yt({search:!1,showTitle:!1,toolbar:!1},t)},n))}var wt=n(565),jt=n(555),xt=n(275),Pt=n.n(xt),St=n(556),kt=n(163),Ct=n.n(kt),It=Ct()((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(17),fontWeight:e.typography.fontWeightRegular}}}));var Dt=function(e){var t=e.title,n=e.children,a=Object(i.a)(e,["title","children"]),c=It();return r.a.createElement(wt.a,Object.assign({className:c.root},a),r.a.createElement(jt.a,{expandIcon:r.a.createElement(Pt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(ie.a,{className:c.heading},t)),r.a.createElement(St.a,null,n))};var Lt=function(){var e=Object(a.useContext)(mt),t=e.InvestmentStatus,n=e.users,c=Object(a.useState)(n.isLoaded),o=Object(m.a)(c,2),i=o[0],l=o[1];Object(a.useEffect)((function(){n.isLoaded||n.load().then(l)}),[]),Object(a.useEffect)((function(){return function(){n.data.forEach((function(e){delete e.tableData}))}}),[]);var p=[{title:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442",field:"productId"},{title:"\u0426\u0435\u043d\u0430",field:"initSum"},{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",field:"currentSum"},{title:"\u0414\u0430\u0442\u0430",field:"createdAt",type:"datetime"},{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",field:"userConfirmed",type:"boolean"},{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c",field:"adminConfirmed",type:"boolean"}];return r.a.createElement(he.a,null,i?r.a.createElement(gt,{title:"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",columns:[{title:"ID",field:"id"},{title:"\u0418\u043c\u044f",field:"firstName"},{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",field:"secondName"},{title:"\u0411\u0430\u043b\u0430\u043d\u0441",field:"balance"},{title:"\u0422\u0440. \u0431\u0430\u043b\u0430\u043d\u0441",field:"transactionBalance"}],data:n.data,detailPanel:function(e){var a=e.investments,c=a.filter((function(e){return e.statusId===t.UNCONFIRMED_SALE})),o=a.filter((function(e){return e.statusId===t.ACTIVE_INVESTMENT})),i=a.filter((function(e){return e.statusId===t.UNCONFIRMED_PURCHASE})),l=a.filter((function(e){return e.statusId===t.CONFIRMED_SALE}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,{title:"\u041e\u0436\u0438\u0434\u0430\u044e\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",defaultExpanded:c.length>0},r.a.createElement(Ot,{columns:p,data:c,actions:[{icon:bt.a,tooltip:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0443",onClick:function(){var e=Object(s.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.id,e.next=3,n.confirmSale(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]})),r.a.createElement(Dt,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438",defaultExpanded:o.length>0},r.a.createElement(Ot,{columns:p,data:o})),r.a.createElement(Dt,{title:"\u041d\u0435\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",defaultExpanded:i.length>0},r.a.createElement(Ot,{columns:p,data:i})),r.a.createElement(Dt,{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435 \u0441\u0434\u0435\u043b\u043a\u0438",defaultExpanded:l.length>0},r.a.createElement(Ot,{columns:p,data:l})))}}):r.a.createElement(ft.a,null))},Nt=n(264),Tt=n(568),Rt=n(238),At=n(563),Bt=n(113),Gt=n.n(Bt),Ft=Ct()((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}}}}));var Mt=function(){var e=Object(a.useContext)(mt).users,t=Object(a.useState)(e.isLoaded),n=Object(m.a)(t,2),c=n[0],o=n[1];function i(){return(i=Object(s.a)(u.a.mark((function t(n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.update(n.id,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return(l=Object(s.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.delete(n.id);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){}Object(a.useEffect)((function(){e.isLoaded||e.load().then(o)}),[]),Object(a.useEffect)((function(){return function(){e.data.forEach((function(e){delete e.tableData}))}}),[]);var f=Ft();return r.a.createElement(he.a,null,c?r.a.createElement(gt,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",columns:[{title:"ID",field:"id",editable:"never"},{title:"Email",field:"email"},{title:"\u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d",field:"verified",type:"boolean"},{title:"\u0411\u0430\u043b\u0430\u043d\u0441",field:"balance"},{title:"\u0422\u0440. \u0431\u0430\u043b\u0430\u043d\u0441",field:"transactionBalance",editable:"never"}],data:e.data,editable:{onRowUpdate:function(e,t){return i.apply(this,arguments)},onRowDelete:function(e){return l.apply(this,arguments)}},detailPanel:function(e){return r.a.createElement(Ee.a,null,r.a.createElement(oe.a,{initialValues:e,onSubmit:p},(function(e){var t=e.values,n=function(t){return r.a.createElement(Nt.a,Object.assign({id:"margin-dense",onChange:e.handleChange,onBlur:e.handleBlur,type:"text"},t))};return r.a.createElement("form",{className:f.root,onSubmit:e.handleSubmit,autoComplete:"off"},r.a.createElement(ve.a,{container:!0},r.a.createElement(n,{name:"firstName",label:"\u0418\u043c\u044f",value:t.firstName}),r.a.createElement(n,{name:"secondName",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:t.secondName}),r.a.createElement(n,{name:"birthDate",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",value:Gt()(t.birthDate).format("YYYY-MM-DD"),InputLabelProps:{shrink:!0}})),r.a.createElement(ve.a,{container:!0},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(n,{name:"birthPlace",label:"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",value:t.birthPlace,fullWidth:!0})),r.a.createElement(ve.a,{item:!0,xs:9},r.a.createElement(n,{name:"citizenship",label:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e (\u043f\u043e\u0434\u0434\u0430\u043d\u0441\u0442\u0432\u043e)",value:t.citizenship,style:{width:400}}))),r.a.createElement(ve.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(ve.a,{item:!0,justify:"center",alignItems:"center",xs:3},r.a.createElement(ie.a,{align:"center",variant:"h6"},"\u041c\u0435\u0441\u0442\u043e \u0436\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),r.a.createElement(ie.a,{align:"center"},"(\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438)")),r.a.createElement(ve.a,{item:!0,justify:"center",alignItems:"left",xs:9},r.a.createElement(n,{name:"country",label:"\u0421\u0442\u0440\u0430\u043d\u0430",value:t.country,fullWidth:!0}),r.a.createElement(n,{name:"city",label:"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",value:t.city,fullWidth:!0}),r.a.createElement(n,{name:"street",label:"\u0423\u043b\u0438\u0446\u0430 (\u043f\u0440\u043e\u0441\u043f\u0435\u043a\u0442 \u0438 \u0442.\u0434.)",value:t.street,fullWidth:!0}),r.a.createElement(n,{name:"building",label:"\u0414\u043e\u043c, \u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435",value:t.building,fullWidth:!0}),r.a.createElement(n,{name:"flat",label:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430 (\u043e\u0444\u0438\u0441)",value:t.flat,fullWidth:!0}))),r.a.createElement(Ie.a,null),r.a.createElement(ve.a,{container:!0,alignItems:"center",direction:"row"},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(ie.a,{align:"center",variant:"h6"},"\u0412\u043e\u0437\u0440\u0430\u0441\u0442")),r.a.createElement(ve.a,{item:!0,xs:9},r.a.createElement(Tt.a,{name:"age",value:t.age,onChange:e.handleChange},r.a.createElement(Rt.a,{value:"under20",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0434\u043e 20 \u043b\u0435\u0442"}),r.a.createElement(Rt.a,{value:"from20to50",control:r.a.createElement(At.a,{color:"primary"}),label:"\u043e\u0442 20 \u0434\u043e 50 \u043b\u0435\u0442"}),r.a.createElement(Rt.a,{value:"over50",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0441\u0442\u0430\u0440\u0448\u0435 50 \u043b\u0435\u0442"})))),r.a.createElement(Ie.a,null),r.a.createElement(ve.a,{container:!0,alignItems:"center",direction:"row"},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(ie.a,{align:"center",style:{fontSize:"0.8rem"},variant:"h6"},"\u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0445 \u0434\u043e\u0445\u043e\u0434\u043e\u0432 \u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0445 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 12 \u043c\u0435\u0441\u044f\u0446\u0435\u0432")),r.a.createElement(ve.a,{item:!0,xs:9},r.a.createElement(Tt.a,{name:"earningMoney",value:t.earningMoney,onChange:e.handleChange},r.a.createElement(Rt.a,{value:"yes",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0441\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0435 \u0434\u043e\u0445\u043e\u0434\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0445 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),r.a.createElement(Rt.a,{value:"no",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0441\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0435 \u0434\u043e\u0445\u043e\u0434\u044b \u043c\u0435\u043d\u044c\u0448\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0445 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"})))),r.a.createElement(Ie.a,null),r.a.createElement(ve.a,{container:!0,alignItems:"center",direction:"row"},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(ie.a,{align:"center",variant:"h6"},"\u0421\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u044f")),r.a.createElement(ve.a,{item:!0,xs:9},r.a.createElement(Tt.a,{name:"savings",value:t.savings,onChange:e.handleChange},r.a.createElement(Rt.a,{value:"more",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0441\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u044e\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043e\u0432,  \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0432 \u0444\u043e\u043d\u0434"}),r.a.createElement(Rt.a,{value:"notMore",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0441\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u044e\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043e\u0432,  \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0432 \u0444\u043e\u043d\u0434"})))),r.a.createElement(Ie.a,null),r.a.createElement(ve.a,{container:!0,alignItems:"center",direction:"row"},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(ie.a,{align:"center",style:{fontSize:"1rem"},variant:"h6"},"\u041e\u043f\u044b\u0442 (\u0437\u043d\u0430\u043d\u0438\u044f) \u041a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f")),r.a.createElement(ve.a,{item:!0,xs:9},r.a.createElement(Tt.a,{name:"experience",value:t.experience,onChange:e.handleChange},r.a.createElement(Rt.a,{value:"from3",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0431\u043e\u043b\u044c\u0448\u043e\u0439 (\u043e\u0442 3 \u043b\u0435\u0442)"}),r.a.createElement(Rt.a,{value:"from1to3",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0441\u0440\u0435\u0434\u043d\u0438\u0439 (\u043e\u0442 1 \u0434\u043e 3 \u043b\u0435\u0442)"}),r.a.createElement(Rt.a,{value:"under1",control:r.a.createElement(At.a,{color:"primary"}),label:"\u043d\u0435\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 (\u0434\u043e 1 \u0433\u043e\u0434\u0430)"}),r.a.createElement(Rt.a,{value:"none",control:r.a.createElement(At.a,{color:"primary"}),label:"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})))),r.a.createElement(Ie.a,null),r.a.createElement(ve.a,{container:!0,alignItems:"center",direction:"row"},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(ie.a,{align:"center",style:{fontSize:"1rem"},variant:"h6"},"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0446\u0435\u043b\u0438 \u041a\u043b\u0438\u0435\u043d\u0442\u0430")),r.a.createElement(ve.a,{item:!0,xs:9},r.a.createElement(Tt.a,{name:"purpose",value:t.purpose,onChange:e.handleChange},r.a.createElement(Rt.a,{value:"protect",control:r.a.createElement(At.a,{color:"primary"}),label:"\u0437\u0430\u0449\u0438\u0442\u0430 \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0430 (\u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0440\u0438\u0441\u043a\u0430)"}),r.a.createElement(Rt.a,{value:"smallProfit",control:r.a.createElement(At.a,{color:"primary"}),label:"\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0445\u043e\u0434\u0430 (\u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0440\u0438\u0441\u043a\u0438)"}),r.a.createElement(Rt.a,{value:"mediumProfit",control:r.a.createElement(At.a,{color:"primary"}),label:"\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430 (\u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0440\u0438\u0441\u043a\u0438)"}),r.a.createElement(Rt.a,{value:"maxProfit",control:r.a.createElement(At.a,{color:"primary"}),label:"\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0430 (\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0438\u0441\u043a\u0438)"})))))})))}}):r.a.createElement(ft.a,null))},_t=n(284),Ut=n.n(_t),Wt=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=function(e){var t=e.title,n=e.typeId,c=Object(a.useContext)(mt).products,o=Object(a.useState)(c.isLoaded),i=Object(m.a)(o,2),l=i[0],p=i[1];Object(a.useEffect)((function(){c.isLoaded||c.load().then(p)}),[]);var f=[{title:"ID",field:"id",editable:"never"},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",field:"name"},{title:"\u0418\u043a\u043e\u043d\u043a\u0430",field:"icon",editComponent:function(e){return r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(t){e.onChange(t.target.files[0])}})},render:function(e){return r.a.createElement("img",{src:e.icon,style:{width:50,borderRadius:"100%"}})}},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",field:"text",editComponent:function(e){return r.a.createElement("textarea",{value:e.value,onChange:function(t){return e.onChange(t.target.value)}})},render:function(e){return e.text.slice(0,25)+"..."}},{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",field:"comment"},{title:"\u041c\u0438\u043d. \u0446\u0435\u043d\u0430",field:"minPrice"},{title:"\u0412 \u0433\u043e\u0434 (%)",field:"gainPerYearPercents",type:"numeric"},{title:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435?",field:"justifyText",type:"boolean"},{title:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",field:"displayOrder",type:"numeric"}];Gt.a.locale("ru");var d=[{title:"\u0414\u0430\u0442\u0430",field:"date",type:"date",initialEditValue:new Date,render:function(e){var t=e.date;return Gt()(t).locale("ru").format("LLLL")}},{title:"\u0420\u043e\u0441\u0442 (%)",field:"gain",type:"numeric"}];function b(){return(b=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.icon instanceof File)){e.next=4;break}return e.next=3,Wt(t.icon);case 3:t.icon=e.sent;case 4:return e.next=6,c.create(zt({},t,{typeId:n}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.icon instanceof File)){e.next=4;break}return e.next=3,Wt(t.icon);case 3:t.icon=e.sent;case 4:return e.next=6,c.update(t.id,t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.delete(t.id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l?r.a.createElement(gt,{title:t,columns:f,data:c.data.filter((function(e){return e.typeId===n})),editable:{onRowAdd:function(e){return b.apply(this,arguments)},onRowUpdate:function(e){return h.apply(this,arguments)},onRowDelete:function(e){return E.apply(this,arguments)}},options:{detailPanelColumnAlignment:"left",detailPanelType:"single"},detailPanel:function(e){var t=e.id,n=e.gainHistory;return r.a.createElement(Ee.a,null,r.a.createElement(gt,{title:"\u0420\u0430\u0441\u0441\u0447\u0435\u0442 \u043f\u0440\u0438\u0431\u044b\u043b\u0438",columns:d,data:n,editable:{onRowAdd:function(e){var n=e.gain,a=e.date;return c.pushGainsAndCompute({productId:t,newGain:n,newDate:a})}},options:{search:!1},style:{width:600}}))}}):r.a.createElement(ft.a,null)},Yt=n(562),Jt=n(554),qt=n(277),Kt=n.n(qt),Qt=(n(499),n(500),{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{container:"#"}]]}),Xt=Object(xe.a)((function(e){return{top:{margin:"0.5rem 0"},subjectInput:{},save:{margin:"0.5rem 0"}}}));var Zt=function(e){var t=e.id,n=e.template,c=e.subject,o=e.fields,i=Object(a.useContext)(mt).templates,l=Xt(),p=Object(a.useState)(n),f=Object(m.a)(p,2),d=f[0],b=f[1],h=Object(a.useState)(c),E=Object(m.a)(h,2),v=E[0],y=E[1];function g(){return(g=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.update(t,{subject:v,template:d});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(ve.a,null,r.a.createElement(ve.a,{container:!0,className:l.top,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(ve.a,{container:!0,item:!0,xs:12,sm:6,justify:"center"},r.a.createElement(Nt.a,{id:"standard-basic",label:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430",value:v,onChange:function(e){return y(e.target.value)},fullWidth:!0})),r.a.createElement(ve.a,{container:!0,item:!0,xs:12,sm:6,justify:"center"},r.a.createElement(ie.a,{variant:"p"},"\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043f\u043e\u043b\u044f: ",o))),r.a.createElement(Ee.a,null,r.a.createElement(Kt.a,{value:d,modules:Qt,onChange:function(e){return b(e)}})),r.a.createElement(ue.a,{className:l.save,onClick:function(){return g.apply(this,arguments)},variant:"contained",color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))};function $t(e){var t=e.children,n=e.value,a=e.index,c=Object(i.a)(e,["children","value","index"]);return r.a.createElement(Ee.a,Object.assign({component:"div",role:"tabpanel",hidden:n!==a,id:"scrollable-auto-tabpanel-".concat(a),"aria-labelledby":"scrollable-auto-tab-".concat(a)},c),n===a&&t)}var en=Object(xe.a)((function(e){return{root:{flexGrow:1,width:"100%",height:"40rem",backgroundColor:e.palette.background.paper}}}));function tn(){var e=en(),t=r.a.useState(0),n=Object(m.a)(t,2),c=n[0],o=n[1],i=Object(a.useContext)(mt).templates,l=Object(a.useState)(i.isLoaded),u=Object(m.a)(l,2),s=u[0],p=u[1];Object(a.useEffect)((function(){i.isLoaded||i.load().then(p)}),[]);var d=Object(f.a)(i.data).sort((function(e,t){return e.id-t.id}));return s?r.a.createElement(he.a,{className:e.root},r.a.createElement(ke.a,{position:"static",color:"default"},r.a.createElement(Yt.a,{value:c,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},d.map((function(e,t){var n,a=e.name;return r.a.createElement(Jt.a,Object.assign({label:a},{id:"scrollable-auto-tab-".concat(n=t),"aria-controls":"scrollable-auto-tabpanel-".concat(n)}))})))),d.map((function(e,t){return r.a.createElement($t,{index:t,value:c},r.a.createElement(Zt,e))}))):r.a.createElement(ft.a,null)}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=Object(xe.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(1)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:an({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},logoutButton:{}}})),cn="users";function on(){var e=rn(),t=Object(a.useState)(!0),n=Object(m.a)(t,2),c=n[0],o=n[1],i=Object(a.useContext)(mt).ProductType,l=Object(a.useContext)(ae).onLogout,u=Object(a.useState)(cn),s=Object(m.a)(u,2),f=s[0],d=s[1],b={users:{name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",component:r.a.createElement(Mt,null)},investments:{name:"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438",component:r.a.createElement(Lt,null)},portfels:{name:"\u041f\u043e\u0440\u0442\u0444\u0435\u043b\u0438",component:r.a.createElement(Vt,{title:"\u041f\u043e\u0440\u0442\u0444\u0435\u043b\u0438",typeId:i.PORTFEL})},funds:{name:"\u0424\u043e\u043d\u0434\u044b",component:r.a.createElement(Vt,{title:"\u0424\u043e\u043d\u0434\u044b",typeId:i.FUND})},transactions:{name:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438",component:"C\u043f\u0438\u0441\u043e\u043a \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 apikeypay"},mail:{name:"\u041f\u043e\u0447\u0442\u0430",component:r.a.createElement(tn,null)}};return r.a.createElement("div",{className:e.root},r.a.createElement(Se.a,null),r.a.createElement(ke.a,{position:"fixed",className:Object(je.a)(e.appBar,Object(p.a)({},e.appBarShift,c))},r.a.createElement(Ce.a,null,r.a.createElement(fe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",className:Object(je.a)(e.menuButton,c&&e.hide)},r.a.createElement(Le.a,null)),r.a.createElement(ve.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(ie.a,{variant:"h6",noWrap:!0},"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"),r.a.createElement(ue.a,{className:e.logoutButton,onClick:l,color:"inherit"},"\u0412\u044b\u0439\u0442\u0438")))),r.a.createElement(Pe.a,{className:e.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(fe.a,{onClick:function(){o(!1)}},r.a.createElement(Te.a,null))),r.a.createElement(Ie.a,null),r.a.createElement(ln,{tab:f,setTab:d})),r.a.createElement("main",{className:Object(je.a)(e.content,Object(p.a)({},e.contentShift,c))},r.a.createElement("div",{className:e.drawerHeader}),b[f].component))}function ln(e){var t=e.tab,n=e.setTab;return Object(a.useMemo)((function(){return[{tab:"investments",name:"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438",icon:r.a.createElement(ze.a,null)},{tab:"users",name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",icon:r.a.createElement(We.a,null)},{tab:"portfels",name:"\u041f\u043e\u0440\u0442\u0444\u0435\u043b\u0438",icon:r.a.createElement(Ye.a,null)},{tab:"funds",name:"\u0424\u043e\u043d\u0434\u044b",icon:r.a.createElement(_e.a,null)},{tab:"transactions",name:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438",icon:r.a.createElement(Ut.a,null)},{tab:"mail",name:"\u041f\u043e\u0447\u0442\u0430",icon:r.a.createElement(Fe.a,null)}]}),[]).map((function(e){var a=e.tab,c=e.icon,o=e.name;return r.a.createElement(Re.a,{key:a,onClick:function(){return n(a)},selected:a===t,button:!0},r.a.createElement(Ae.a,null,c),r.a.createElement(Be.a,{primary:o}))}))}var un=n(240);var sn=function(e){var t=e.component,n=e.accessed,a=Object(i.a)(e,["component","accessed"]);return r.a.createElement(ce.b,Object.assign({render:function(e){return n?r.a.createElement(t,e):r.a.createElement(ce.a,{to:"/login"})}},a))},pn=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],r=t[1];function c(e){h(e),d({type:ee})}function o(){return(o=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=b())){e.next=7;break}return e.next=4,j();case 4:n=e.sent,n.success&&c(t);case 7:r(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i={loggedIn:!1,onLogin:c,onLogout:function(){E(),d({type:te})},onStartUp:function(){return o.apply(this,arguments)}},l=Object(a.useReducer)(ne,i),p=Object(m.a)(l,2),f=p[0],d=p[1];return{isNetworkReady:n,network:f}}(),t=e.isNetworkReady,n=e.network;Object(a.useEffect)((function(){n.onStartUp()}),[]);var c=function(){var e={ProductType:{PORTFEL:1,FUND:2},InvestmentStatus:{UNCONFIRMED_PURCHASE:1,ACTIVE_INVESTMENT:2,UNCONFIRMED_SALE:3,CONFIRMED_SALE:4},products:new et({listGetter:A,creator:G,deleter:U,updater:M,resolver:function(e){return c({type:it,products:e})}}),investments:new $e({listGetter:L,resolver:function(e){return c({type:ut,investments:e})}}),users:new tt({listGetter:P,updater:k,deleter:I,resolver:function(e){return c({type:lt,users:e})}}),templates:new $e({listGetter:V,updater:J,resolver:function(e){return c({type:st,templates:e})}})},t=Object(a.useReducer)(pt,e),n=Object(m.a)(t,2),r=n[0],c=n[1];return r}();return t?r.a.createElement(mt.Provider,{value:c},r.a.createElement(ae.Provider,{value:n},r.a.createElement(re.a,null,n.loggedIn?r.a.createElement(ce.a,{to:"/dashboard"}):r.a.createElement(ce.a,{to:"/login"}),r.a.createElement(ce.d,null,r.a.createElement(ce.b,{path:"/login",component:we}),r.a.createElement(sn,{accessed:n.loggedIn,path:"/dashboard",component:on}))))):r.a.createElement(un.a,null)};o.a.render(r.a.createElement(pn,null),document.getElementById("root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.86b4b3db.chunk.js.map